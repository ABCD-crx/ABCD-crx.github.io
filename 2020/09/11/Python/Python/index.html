

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/loge/loge.png">
  <link rel="icon" href="/img/loge/loge.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#000000">
  <meta name="author" content="Crx">
  <meta name="keywords" content="C,C++,Java,Vue,Linux,Docker">
  
    <meta name="description" content="Python笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="Python">
<meta property="og:url" content="http://example.com/2020/09/11/Python/Python/index.html">
<meta property="og:site_name" content="Chenrx&#39;s Blog">
<meta property="og:description" content="Python笔记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/blog/python.png">
<meta property="article:published_time" content="2020-09-11T01:24:45.000Z">
<meta property="article:modified_time" content="2024-02-24T10:44:51.209Z">
<meta property="article:author" content="Crx">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/blog/python.png">
  
  
  
  <title>Python - Chenrx&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.1.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Chenrx&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/background/background3.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Python"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2020-09-11 09:24" pubdate>
          2020年9月11日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          25k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          314 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Python</h1>
            
              <p id="updated-time" class="note note-info" style="display: none">
                
                  
                    本文最后更新于 2024-02-24T18:44:51+08:00
                  
                  

                
              </p>
            
            
              <div class="markdown-body">
                
                <h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="常量与变量"><a href="#常量与变量" class="headerlink" title="常量与变量"></a>常量与变量</h2><p>answer  &#x3D;  99	—&gt;	标识符（变量）    赋值符	值 </p>
<p>python 变量</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-number">1</span>.不用事先声明变量，赋值过程中就包含了变量的声明和定义<br><span class="hljs-number">2</span>.用<span class="hljs-string">&quot; = &quot;</span>赋值，左边是变量名，右边是变量值<br><span class="hljs-number">3</span>.使用前必须先被初始化（先被赋值）<br><span class="hljs-number">4</span>.可以通过<span class="hljs-built_in">del</span>语句删除不再使用的变量<br>	python中有垃圾回收装置，所以也可以不用操作<br></code></pre></td></tr></table></figure>

<p>变量：</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">变量在程序中就是用一个变量名表示<br>变量名必须是大小写英文，数字和_组成<br>不能用数字开头<br>不能和内置关键字冲突<br><span class="hljs-strong">***</span>变量不需要声明，每个变量在使用前必须被赋值（不需要类型定义）<br></code></pre></td></tr></table></figure>

<p>在python中，” &#x3D; “是赋值语句，可以把任何数据类型赋值给变量</p>
<p>​	如果” &#x3D; “右边为表达式，则先计算表示达式的值，得到结果，再经行赋值操作</p>
<p>注：同一个变量可以反复赋值，而且可以赋值不同类型的变量（动态语言）</p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs lasso">查看python关键字<br>&gt;&gt;&gt;<span class="hljs-keyword">import</span> <span class="hljs-built_in">keyword</span><br>&gt;&gt;&gt;<span class="hljs-built_in">keyword</span> kwlist<br></code></pre></td></tr></table></figure>

<p>python 用缩进规定 作用域范围，</p>
<p>值的范围：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python">整数：<br>python 可以处理任何大小的整数（包括负整数），整数没有大小限制<br><br>浮点数：<br>浮点数可以用数学写法，但对于较大或者较小的浮点数，必须用科学计数法表示<br><span class="hljs-number">10</span>用e代替，eg. <span class="hljs-number">1.23</span>x10^<span class="hljs-number">9</span> ——&gt; <span class="hljs-number">1.23e9</span>，或者 <span class="hljs-number">12.38e8</span> / <span class="hljs-number">1.2e-5</span><br>注：浮点数也没有大小限制，但是超出一定范围就直接表示为 inf （无限大）<br><br>字符串：<br>字符串是以 <span class="hljs-string">&#x27;单引号&#x27;</span> 或者 <span class="hljs-string">&quot;双引号&quot;</span> 括起来的任意文本<br>	字符串内部既包含<span class="hljs-string">&#x27; 和 &quot; 可以用转义字符\来标识</span><br><span class="hljs-string">    eg. &#x27;</span>I\<span class="hljs-string">&#x27;m \&quot;OK\&quot;!&#x27;</span> ——&gt; I<span class="hljs-string">&#x27;m &quot;OK&quot;!</span><br><span class="hljs-string">注：python 用 &quot; r &quot; 表示内部字符串默认不转义</span><br><span class="hljs-string">print(r&quot;\\n\n\n\&quot;)</span><br><span class="hljs-string">      </span><br><span class="hljs-string">布尔值bool：</span><br><span class="hljs-string"> 布尔值和布尔代数的表示完全一致，一个布尔值只有True、False两种值</span><br><span class="hljs-string"></span><br><span class="hljs-string">空值：</span><br><span class="hljs-string">	空值是Python里一个特殊的值，用None表示。None不能理解为0，</span><br><span class="hljs-string">	因为0是有意义的，而None是一个特殊的空值</span><br></code></pre></td></tr></table></figure>

<hr>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xquery">算术运算： + - * ** / // %  <br>关系运算： == != &gt; &lt; &lt;= &gt;=  <br>位运算：   &amp; | ^ ~ &gt;&gt; &lt;&lt;  <br>逻辑运算： <span class="hljs-keyword">and</span> <span class="hljs-keyword">or</span><span class="hljs-built_in"> not</span> <br>成员运算： <span class="hljs-keyword">in</span><span class="hljs-built_in"> not</span> <span class="hljs-keyword">in</span> <br>身份运算： <span class="hljs-literal">is</span> <span class="hljs-literal">is</span> no<br></code></pre></td></tr></table></figure>

<p>python中有两种除法：</p>
<ol>
<li><p>&#x2F;		&#x2F;除法计算结果是浮点数，即使是两个整数恰好整除，结果也是浮点数</p>
</li>
<li><p>&#x2F;&#x2F;       整除</p>
<p>​		 &#x2F;&#x2F;地板除，整数的地板除永远是整数，即使除不尽。10 &#x2F;&#x2F; 3 &gt;&gt;&gt; 3</p>
</li>
</ol>
<p>** 操作来进行幂运算：</p>
<p>​		eg. &gt;&gt;&gt; 5 ** 2  # 5的平方</p>
<p>​			  25</p>
<p>位运算：</p>
<p>&amp; ：与	与操作（2进制，对应位都为1，才为1）</p>
<p>| ：或	按位做加法（2进制，有一位为1，则为1 ） </p>
<p>^	异或		对应位，不一样为真，一样为假</p>
<p>~		取反</p>
<p>&gt;&gt; 右移  &lt;&lt; 左移</p>
<p>逻辑运算：</p>
<p>类似于集合的   并集and	合集or	非集not</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">a = <span class="hljs-number">10</span><br>b = <span class="hljs-number">20</span><br><span class="hljs-built_in">list</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> ]<br><br><span class="hljs-keyword">if</span> a <span class="hljs-keyword">and</span> b :<br>	<span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;1 - 变量 a 和 b 都为 true&quot;</span>) <br><span class="hljs-keyword">else</span>: <br>	<span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;1 - 变量 a 和 b 有一个不为 true&quot;</span>)<br></code></pre></td></tr></table></figure>



<p>成员运算</p>
<p>in	在里面为真，不在里面为假</p>
<p>not in	在里面为假，不在里面为真</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> ( a <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span> ):<br> 	<span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;变量 a 在给定的列表中 list 中&quot;</span>)<br><span class="hljs-keyword">else</span>:<br> 	<span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;变量 a 不在给定的列表中 list 中)</span><br></code></pre></td></tr></table></figure>



<p>身份运算</p>
<p>is   is not （判断内存地址）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">a=<span class="hljs-number">2</span><br>b=<span class="hljs-number">2</span>		<span class="hljs-comment">#python 常量只保存一次，a、b指向的id内存地址相同</span><br><span class="hljs-keyword">if</span> ( a <span class="hljs-keyword">is</span> b ):<br> 	<span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;1 - a 和 b 有相同的标识&quot;</span>)<br><span class="hljs-keyword">else</span>:<br> 	<span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;1 - a 和 b 没有相同的标识&quot;</span>,<span class="hljs-built_in">id</span>(a),<span class="hljs-built_in">id</span>(b))<br> <br><span class="hljs-keyword">if</span> ( a <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> b ):<br> <span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;4 - a 和 b 没有相同的标识&quot;</span>)<br><span class="hljs-keyword">else</span>:<br> <span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;4 - a 和 b 有相同的标识&quot;</span>)<br></code></pre></td></tr></table></figure>



<h2 id="基本IO"><a href="#基本IO" class="headerlink" title="基本IO"></a>基本IO</h2><p>input:			默认输入为字符串</p>
<p>output：</p>
<p>%格式化输出</p>
<p>​		%运算符就是用来格式化字符串的。在字符串内部，%s表示 用字符串替换，%d表示用整数替换，有几个%?占位符，后面就跟几个变量或者值，顺序要对应 好。如果只有一个%?，括号可以省略。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a = %d b = %s&quot;</span>% (a,b))<br></code></pre></td></tr></table></figure>

<p>​	注：python允许字符串拼接（不常用）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">name=<span class="hljs-string">&#x27;Michael&#x27;</span><br>value=<span class="hljs-number">1000000</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;hi,&#x27;</span>,name,<span class="hljs-string">&#x27;you have $&#x27;</span>,value)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;hi,&#x27;</span>+name+<span class="hljs-string">&#x27;you have $&#x27;</span>+<span class="hljs-built_in">str</span>(value))<br>	<span class="hljs-comment">#所有类型转化为str字符串，才能用+拼接起来</span><br></code></pre></td></tr></table></figure>

<p>format格式化输出</p>
<ol>
<li><p>顺序填坑	可以有元素多，不能有元素少</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a = &#123;&#125;, b = &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(a,b))<br></code></pre></td></tr></table></figure>
</li>
<li><p>下标填坑</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a = &#123;1&#125;, b = &#123;0&#125;.format(a,b)&quot;</span>)<br>	&gt;&gt;&gt; a = b, b = a (<span class="hljs-built_in">format</span> 顺序为 <span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2.</span>.)<br></code></pre></td></tr></table></figure>
</li>
<li><p>变量填坑      format变量必须当时赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;名字是&#123;name&#125;,年龄是&#123;age&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(name = <span class="hljs-string">&#x27;tom&#x27;</span>,age = <span class="hljs-number">23</span>)) <br></code></pre></td></tr></table></figure></li>
</ol>
<p>sep是多个输出之间的分隔符，默认是一个空格。</p>
<p>end是 输出的结尾，默认是换行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;这是一段输出&#x27;</span>, <span class="hljs-string">&#x27;下一段输出&#x27;</span>, sep=<span class="hljs-string">&#x27;,&#x27;</span>, end=<span class="hljs-string">&#x27; &#x27;</span>)<br><br>&gt;&gt;&gt;这是一段输出,下一段输出 <br>&gt;&gt;&gt;进程已结束，退出代码为 <span class="hljs-number">0</span><br>	<span class="hljs-comment">#没有sep 和 end 为</span><br>&gt;&gt;&gt;这是一段输出 下一段输出<br>&gt;&gt;&gt;<br>&gt;&gt;&gt;进程已结束，退出代码为 <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><p>条件判断：只有if else 判断，没有switch case判断 if语句的完整形式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">简写版：<br><span class="hljs-keyword">if</span> 判断 :<br>	执行<span class="hljs-number">1</span><br><span class="hljs-keyword">else</span>:<br>    执行<span class="hljs-number">2</span><br> <br><span class="hljs-keyword">if</span> &lt;条件判断<span class="hljs-number">1</span>&gt;:<br>    &lt;执行<span class="hljs-number">1</span>&gt;<br><span class="hljs-keyword">elif</span> &lt;条件判断<span class="hljs-number">2</span>&gt;:<br>    &lt;执行<span class="hljs-number">2</span>&gt;<br><span class="hljs-keyword">elif</span> &lt;条件判断<span class="hljs-number">3</span>&gt;:<br>    &lt;执行<span class="hljs-number">3</span>&gt;<br><span class="hljs-keyword">else</span>:<br>    &lt;执行<span class="hljs-number">4</span>&gt;<br></code></pre></td></tr></table></figure>

<p>for..in语法规则：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> 临时变量 <span class="hljs-keyword">in</span> 循环范围 ：<br>	循环执行语句<br><br><span class="hljs-keyword">for</span> 临时变量 <span class="hljs-keyword">in</span> 循环范围 ：<br>	循环执行语句<br><span class="hljs-keyword">else</span>：<br>	执行一次<br><br><span class="hljs-string">&quot;&quot;&quot;注意：</span><br><span class="hljs-string">for 循环使用 else 语句</span><br><span class="hljs-string">在 python 中，for … else 表示这样的意思，</span><br><span class="hljs-string">for 中的语句和普通的没有区别，else 中的语句会在循环正常执行完</span><br><span class="hljs-string">（即 for 不是通过 break 跳出而中断的)的情况下执行，</span><br><span class="hljs-string">while … else 也是一样。&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">list</span> = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>:	<span class="hljs-comment">#遍历list</span><br>	<span class="hljs-built_in">print</span>(x)	<br>依次把<span class="hljs-built_in">list</span>中的每个元素迭代出来，<br>所以<span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> ...循环<br>就是把每个元素代入变量x，然后执行缩进块的语句<br></code></pre></td></tr></table></figure>

<p>循环范围：可以是列表，也可以是range函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">sum</span> = <span class="hljs-number">0</span><br> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">101</span>): <span class="hljs-comment">#遍历 0 - 100 的所有整数</span><br> <span class="hljs-built_in">sum</span> = <span class="hljs-built_in">sum</span> + x<br> <span class="hljs-built_in">print</span>(<span class="hljs-built_in">sum</span>)<br></code></pre></td></tr></table></figure>

<p>​		其中range是python提供的内置函数，表示边界范围</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">range(<span class="hljs-literal">start</span>,<span class="hljs-literal">stop</span>,step)<br><span class="hljs-literal">start</span>:计数从<span class="hljs-literal">start</span>开始，默认为<span class="hljs-number">0</span><br><span class="hljs-literal">stop</span>:计数到<span class="hljs-literal">stop</span>结束，但不包括<span class="hljs-literal">stop</span><br>step：步长，默认为<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>while 语法规则： </p>
<p>​	while 逻辑表达式 ：</p>
<p>​			循环执行语句</p>
<p>死循环</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">while</span> Ture:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-number">1</span>),<br></code></pre></td></tr></table></figure>

<h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>创建字符串很简单，只要为变量分配一个值即可，使用引号 (‘或”)来创建字符串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">var1 = <span class="hljs-string">&#x27;Hello World!&#x27;</span> <span class="hljs-comment">#单字符在 Python 中也是作为一个字符</span><br>串使用。<br>str1 = <span class="hljs-string">&quot;hello python&quot;</span><br></code></pre></td></tr></table></figure>

<ol>
<li><p>字符串求长度：len(str1);</p>
</li>
<li><p>字符串拼接： +       （”字符串”  *  3）重复三次</p>
</li>
<li><p>字符串遍历： for a in str1</p>
</li>
<li><p>字符串包含判断：if (‘a’ in sample_str7) &#x3D;&#x3D;&gt;true &#x2F;false（in操作符）</p>
</li>
<li><p>字符串索引： 正向索引： str1[0] str1[1] str[2] </p>
<p>​						反向索引： str1[-1] str1[-2] str1[-3] （-1为倒数第一个）</p>
</li>
<li><p>字符串切片：str1[start: end:step] &#x3D;&#x3D;》str1[0:4] （可以指定步长）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;hello would&quot;</span><br><span class="hljs-built_in">print</span>(str1[<span class="hljs-number">2</span>:<span class="hljs-number">5</span>:<span class="hljs-number">3</span>])<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="常见字符串内置函数："><a href="#常见字符串内置函数：" class="headerlink" title="常见字符串内置函数："></a>常见字符串内置函数：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">str</span>.strip([chars]) ==》<br>	<span class="hljs-built_in">print</span>(sample_fun1.strip()) <span class="hljs-comment">#默认去掉首尾空格</span><br>	<span class="hljs-built_in">print</span>(sample_fun1.strip(<span class="hljs-string">&#x27;#&#x27;</span>)) <span class="hljs-comment">#指定首尾需要删除的字符</span><br><br><span class="hljs-built_in">str</span>.count(<span class="hljs-string">&#x27;chars&#x27;</span>,start,end)<br>	<span class="hljs-comment">#统计chars字符串或者字符在str中出现的次数，</span><br>	从start顺序开始查找一直到end顺序范围结束，默认是从顺序<span class="hljs-number">0</span>开始<br><br><span class="hljs-built_in">str</span>.capitalize() 将字符串的首字母大写<br><br><span class="hljs-built_in">str</span>.upper() 将字符串中的字母全部转换成大写字母<br><span class="hljs-built_in">str</span>.isupper() 判断字符串是否全是大写<br><br><span class="hljs-built_in">str</span>.lower() 将字符串中的字母全部转换成小写字母<br><span class="hljs-built_in">str</span>.islower() 判断字符串是否全是小写<br><br><span class="hljs-built_in">str</span>.find(<span class="hljs-string">&#x27;str&#x27;</span>,start,end)	<span class="hljs-comment">#返回值为第一个&#x27;str&#x27;首字母下标位置</span><br> 	查找并返回子字符<span class="hljs-string">&#x27;str&#x27;</span>在start到end范围内首次出现的下标位置，<br> 	默认范围是从字符串的头开始到尾结束<br><span class="hljs-built_in">str</span>.index(<span class="hljs-string">&#x27;str&#x27;</span>,start,end) 同上，单没有字符会报错<br><br><span class="hljs-built_in">str</span>.replace(oldstr, newstr,count) <br>	<span class="hljs-comment">#用旧的子字符串替换新的子字符串，若不指定count默认全部替换</span><br>    <br><span class="hljs-built_in">str</span>.split(sep,maxsplit) <span class="hljs-comment">#将字符串拆成列表</span><br>	将字符串<span class="hljs-built_in">str</span>按照指定的sep字符进行分割，形成列表返回<br>	maxsplit是指定需要分割的次数，<br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>.split()) 若不指定<span class="hljs-comment">#sep默认是分割空格，全部分割</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>.split(<span class="hljs-string">&quot; &quot;</span>,<span class="hljs-number">1</span>)) <span class="hljs-comment">#分割一次，也就是生成一个两元素列表</span><br>    <br><span class="hljs-built_in">str</span>.join(<span class="hljs-built_in">list</span>)	<span class="hljs-comment">#将列表元素返回成字符串</span><br>	<span class="hljs-built_in">list</span> = [<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-string">&#x27;3&#x27;</span>]<br>    <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;&quot;</span>.join(<span class="hljs-built_in">list</span>)<br><br><span class="hljs-built_in">str</span>.isalnum() 字符串是由字母或数字组成<span class="hljs-string">&#x27;则返回true否则返回false</span><br><span class="hljs-string"></span><br><span class="hljs-string">str.isalpha() 字符串是否全是由字母组成的</span><br><span class="hljs-string">str.isdigit() 字符串是否全是由数字组成，是则返回true，否则</span><br><span class="hljs-string">返回false</span><br></code></pre></td></tr></table></figure>

<h4 id="字符串遍历"><a href="#字符串遍历" class="headerlink" title="字符串遍历"></a>字符串遍历</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1.</span>下标法	<span class="hljs-built_in">str</span>[ ]<br><span class="hljs-number">2.</span><span class="hljs-keyword">for</span> .. <span class="hljs-keyword">in</span><br><span class="hljs-number">3.</span><span class="hljs-built_in">iter</span>内置函数	迭代器<br><span class="hljs-number">4.</span><span class="hljs-built_in">enumerate</span>()——枚举 (输出索引和数据)<br>详见列表遍历<br></code></pre></td></tr></table></figure>



<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>list使用： 原因： 1. 大量数据需要处理 &#x3D;&#x3D;》大容量存储 </p>
<p>​							  2. 不同类型数据需要处理 &#x3D;&#x3D;》兼容存储</p>
<p>创建：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1.</span>使用[ ]直接创建列表		<span class="hljs-comment">#大小，类型都没有要求</span><br>	变量名 = [列表元素，列表元素]<br><span class="hljs-number">2.</span>使用 <span class="hljs-built_in">list</span>() 函数创建列表<br>	python提供了一个内置的函数 <span class="hljs-built_in">list</span>()，可以将其它数据类型转换为列表类型<br>	<span class="hljs-comment">#将字符串转换成列表</span><br>	list1 = <span class="hljs-built_in">list</span>(<span class="hljs-string">&quot;hello&quot;</span>)<br>	<span class="hljs-built_in">print</span>(list1)<br>    &gt;&gt;&gt;[<span class="hljs-string">&#x27;h&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;l&#x27;</span>,<span class="hljs-string">&#x27;l&#x27;</span>,<span class="hljs-string">&#x27;o&#x27;</span>]<br>    <br>    <span class="hljs-comment">#将元组转换成列表</span><br> 	tuple1 = (<span class="hljs-string">&#x27;Python&#x27;</span>, <span class="hljs-string">&#x27;Java&#x27;</span>, <span class="hljs-string">&#x27;C++&#x27;</span>, <span class="hljs-string">&#x27;JavaScript&#x27;</span>)<br> 	list2 = <span class="hljs-built_in">list</span>(tuple1)<br>	<span class="hljs-built_in">print</span>(list2)<br>    &gt;&gt;&gt;[<span class="hljs-string">&#x27;Python&#x27;</span>, <span class="hljs-string">&#x27;Java&#x27;</span>, <span class="hljs-string">&#x27;C++&#x27;</span>, <span class="hljs-string">&#x27;JavaScript&#x27;</span>]<br>    <br>    <span class="hljs-comment">#将字典转换成列表，最终列表中只有键没有值</span><br>	dict1 = &#123;<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-number">100</span>, <span class="hljs-string">&#x27;b&#x27;</span>:<span class="hljs-number">42</span>, <span class="hljs-string">&#x27;c&#x27;</span>:<span class="hljs-number">9</span>&#125;<br>	list3 = <span class="hljs-built_in">list</span>(dict1)<br>	<span class="hljs-built_in">print</span>(list3)<br>    &gt;&gt;&gt;[<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>]______???<br>    <br>    <span class="hljs-comment">#将区间转换成列表</span><br>	range1 = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>)<br>	list4 = <span class="hljs-built_in">list</span>(range1)<br>	<span class="hljs-built_in">print</span>(list4)<br>    &gt;&gt;&gt;[<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-string">&#x27;3&#x27;</span>,<span class="hljs-string">&#x27;4&#x27;</span>,<span class="hljs-string">&#x27;5&#x27;</span>]<br>       <br></code></pre></td></tr></table></figure>



<p>使用部分：增-&gt;删-&gt;改-&gt;查</p>
<ol>
<li><p>增加：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">append() 			<span class="hljs-comment">#可以添加字典</span><br>内置的append() <span class="hljs-comment">#添加到尾部</span><br>	lst.append(<span class="hljs-string">&quot;hello&quot;</span>)<br>insert()<br>通过 <span class="hljs-built_in">list</span>.insert(index,obj) <span class="hljs-comment">#指定位置插入</span><br>	lst.isert(<span class="hljs-number">0</span>,<span class="hljs-string">&quot;world&quot;</span>) <span class="hljs-comment">#第一个添加</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>删除</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">pop()<br>通过pop()删除最后尾部元素，也可以指定一参数删除指定位置<br>	lst.pop() <span class="hljs-comment">#默认删除最后一个元素</span><br>	lst.pop(<span class="hljs-number">0</span>) <span class="hljs-comment">#指定位置删除（下标）</span><br>remove()<br><span class="hljs-built_in">list</span>.remove(obj)按值删除第一个匹配项<br>	lst.remove(<span class="hljs-number">12</span>)<br></code></pre></td></tr></table></figure>
</li>
<li><p>修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">通过下标赋值替换 <br>lst[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;A&quot;</span> <span class="hljs-comment">#不能通过值修改，只能通过下标修改，所以必须知道位置</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>查找</p>
<figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">if x in L</span><span class="hljs-punctuation">:</span><br> <span class="hljs-attribute">xxx</span><br><span class="hljs-attribute"> else</span><span class="hljs-punctuation">:</span><br> yyy<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="列表遍历"><a href="#列表遍历" class="headerlink" title="列表遍历"></a>列表遍历</h4><ol>
<li><p>for… in 遍历</p>
<p>for  xxx  in  list：</p>
</li>
<li><p>range（）函数遍历</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">list</span> = [<span class="hljs-number">1234</span>,<span class="hljs-number">5678</span>,<span class="hljs-number">8912</span>]<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(<span class="hljs-built_in">list</span>)):<br>	<span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>[i])		<span class="hljs-comment">#取长度，拿下标遍历</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>enumerate（）函数遍历——枚举</p>
<p>用于将一个可遍历的数据对象（如列表，元组，字符串）组合为一个索引序列，同时列出数据和数据下标</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">list</span> = [<span class="hljs-number">1234</span>,<span class="hljs-number">5678</span>,<span class="hljs-number">8912</span>]<br><span class="hljs-keyword">for</span>	index,<span class="hljs-built_in">id</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">list</span>):<br>	<span class="hljs-built_in">print</span> (index,<span class="hljs-built_in">id</span>)<br>&gt;&gt;&gt;<span class="hljs-number">0</span> <span class="hljs-number">1234</span><br>&gt;&gt;&gt;<span class="hljs-number">1</span> <span class="hljs-number">5678</span><br>&gt;&gt;&gt;<span class="hljs-number">2</span> <span class="hljs-number">8912</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>iter()函数用来生产迭代器遍历</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">list</span> = [<span class="hljs-number">1234</span>,<span class="hljs-number">5678</span>,<span class="hljs-number">8912</span>]<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">iter</span>(<span class="hljs-built_in">list</span>):<br>	<span class="hljs-built_in">print</span>(x)<br>&gt;&gt;&gt;<span class="hljs-number">1234</span><br>&gt;&gt;&gt;<span class="hljs-number">5678</span><br>&gt;&gt;&gt;<span class="hljs-number">8912</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="列表内置函数"><a href="#列表内置函数" class="headerlink" title="列表内置函数"></a>列表内置函数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span>	<span class="hljs-built_in">list</span>.append(obj)<br>	在列表末尾添加新的对象<br><span class="hljs-number">2</span>	<span class="hljs-built_in">list</span>.count(obj)<br>	统计某个元素在列表中出现的次数<br><span class="hljs-number">3</span>	<span class="hljs-built_in">list</span>.extend(seq)<br>	在列表末尾一次性追加另一个序列中的多个值（用新列表扩展原来的列表）<br><span class="hljs-number">4</span>	<span class="hljs-built_in">list</span>.index(obj)<br>	<span class="hljs-comment">#从列表中找出某个值第一个匹配项的索引位置(查下标位置)</span><br><span class="hljs-number">5</span>	<span class="hljs-built_in">list</span>.insert(index, obj)<br>	将对象插入列表<br><span class="hljs-number">6</span>	<span class="hljs-built_in">list</span>.pop([index=-<span class="hljs-number">1</span>])<br>	移除列表中的一个元素（默认最后一个元素），并且返回该元素的值<br><span class="hljs-number">7</span>	<span class="hljs-built_in">list</span>.remove(obj)<br>	移除列表中某个值的第一个匹配项<br><span class="hljs-number">8</span>	<span class="hljs-built_in">list</span>.reverse()<br>	反向列表中元素<br><span class="hljs-number">9</span>	<span class="hljs-built_in">list</span>.sort( key=<span class="hljs-literal">None</span>, reverse=<span class="hljs-literal">False</span>)<span class="hljs-comment">#reverse 降序排序</span><br>    对原列表进行排序<br>    		lst = [<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">8</span>,<span class="hljs-number">5</span>]<br>        	lst.sort()<br>            <span class="hljs-built_in">print</span>(lst)<br><span class="hljs-number">10</span>	<span class="hljs-built_in">list</span>.clear()<br>	<span class="hljs-comment">#清空列表</span><br><span class="hljs-number">11</span>	<span class="hljs-built_in">list</span>.copy()<br>	复制列表<br><span class="hljs-number">12</span> <span class="hljs-built_in">len</span>(<span class="hljs-built_in">list</span>) <br>	查看列表元素的个数<br></code></pre></td></tr></table></figure>

<h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><p>Tuple：是和列表类似的存储空间，只是内容不允许修改（类c枚举）</p>
<p>创建：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">tuple</span> = (element1, element2, ..., elemetn)<br><span class="hljs-comment">#当创建的元组中只有一个元素时，该元素后面必须要加一个逗号,否则 Python 解释器会将它视为字符串。</span><br></code></pre></td></tr></table></figure>

<p>使用tuple( )函数创建元组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">tp1 = <span class="hljs-built_in">tuple</span>(data)	<br><span class="hljs-comment">#data表示可转化为元组的数据，包括字符串，元组，range对象</span><br>	tp1 = <span class="hljs-built_in">tuple</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>))<br></code></pre></td></tr></table></figure>

<p>Tuple可以看做是一种“不变”的List，访问也是通过下标，用小括号[]表示： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">t = (<span class="hljs-number">3.14</span>, <span class="hljs-string">&#x27;China&#x27;</span>, <span class="hljs-string">&#x27;Jason&#x27;</span>)<br><span class="hljs-built_in">print</span>(t)<br>但是不能重新赋值替换：<br>t[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;America&#x27;</span> <span class="hljs-comment"># 修改会失败，元组元素不允许修改</span><br>也没有pop和insert、append方法 （删除插入追加）<br></code></pre></td></tr></table></figure>

<p>增加</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">可以创建空元素的<span class="hljs-built_in">tuple</span>: t = ()<br><span class="hljs-comment">#元组元素的增加靠拼接实现</span><br>t = t + t2<br></code></pre></td></tr></table></figure>

<p>没有直接元素删除，可以输出对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">t = (<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-string">&#x27;3&#x27;</span>)<br><span class="hljs-keyword">del</span> t<br><span class="hljs-built_in">print</span>(t)	<span class="hljs-comment">#打印会失败，对象被删除（不建议使用）</span><br></code></pre></td></tr></table></figure>

<p>修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#不能直接修改，只能间接修改</span><br>t = (<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>,[<span class="hljs-string">&#x27;12&#x27;</span>,<span class="hljs-string">&#x27;13&#x27;</span>,<span class="hljs-string">&#x27;14&#x27;</span>])<br>L = t[<span class="hljs-number">3</span>]<br>L[<span class="hljs-number">0</span>] = <span class="hljs-number">666</span><br></code></pre></td></tr></table></figure>

<p>查找</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span>、索引查找，通过使用“方括号包围的索引值及元组名”来访问元组中的元素<br>	<span class="hljs-built_in">print</span>(t[<span class="hljs-number">0</span>])		<span class="hljs-comment">#数组下标</span><br><span class="hljs-number">2</span>、切片查找，打印连续的值<br>	<span class="hljs-built_in">print</span>(t[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>])	<span class="hljs-comment">#左闭右开</span><br><span class="hljs-number">3</span>、遍历<br>	<span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> t1<br><span class="hljs-number">4</span>、判断元素是否在元组中<br>	<span class="hljs-built_in">print</span>(<span class="hljs-number">1</span> <span class="hljs-keyword">in</span> t)	--&gt;ture/false<br>    <br><span class="hljs-built_in">print</span>(t.count(<span class="hljs-number">2</span>)) 		<span class="hljs-comment">#查找指定元素的数量</span><br><span class="hljs-built_in">print</span>(t.index(<span class="hljs-string">&quot;c&quot;</span>))		<span class="hljs-comment">#查找第一个符合条件的索引值</span><br></code></pre></td></tr></table></figure>

<p>Python 自带垃圾回收功能，会自动销毁不用的元组， 所以一般不需要通过 del 来手动删除。</p>
<p>特性： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">python中往往会将有逗号连接的量视为元组，即使其外面没有圆括号 <br>&gt;&gt;&gt;t = <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span><br>&gt;&gt;&gt;<span class="hljs-built_in">print</span>(t)<br>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)<br><span class="hljs-comment">#可以快速交换数据</span><br>	x,y = y,x<br>    x,y,z = z,y,x<br></code></pre></td></tr></table></figure>

<p>应用场景</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">在开发中，更多的应用场景是：<br>函数的 参数 和 返回值，<br>一个函数可以接受 任意多个参数，或者 一次返回多个数据<br>格式字符串，格式化字符串后面的 () 本质上就是一个元组<br><span class="hljs-comment">#格式化字符串后面 &#x27;()&#x27; 的本质上就是元组</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%s 年龄是 %d 身高是 %.2f&quot;</span> % (<span class="hljs-string">&quot;小明&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-number">1.75</span>))<br><span class="hljs-comment">#定义一个元组，验证一下</span><br>info_tuple_02 = (<span class="hljs-string">&quot;小明&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-number">1.75</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%s 年龄是 %d 身高是 %.2f&quot;</span> % info_tuple_02)<br><span class="hljs-comment">#此时输出的内容，与 上面的代码 输出的内容一致；</span><br><br><span class="hljs-comment">#使用格式字符串，拼接生成一个新的字符串</span><br>info_str = <span class="hljs-string">&quot;%s 年龄是 %d 身高是 %.2f&quot;</span> % info_tuple_02<br><span class="hljs-built_in">print</span>(info_str)<br></code></pre></td></tr></table></figure>

<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><p>key-Value键值对</p>
<p>字典是python中唯一的映射类型，元素之间的对应关系，即可以通过一个元素可以唯一找到另一个元素</p>
<p>创建</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1.</span>使用&#123;&#125;创建字典<br>	<span class="hljs-built_in">dict</span> = &#123;<span class="hljs-string">&#x27;key1&#x27;</span>:<span class="hljs-string">&#x27;value1&#x27;</span>,<span class="hljs-string">&#x27;key2&#x27;</span>:<span class="hljs-string">&#x27;value&#x27;</span>, ...&#125;<br>     <span class="hljs-built_in">dict</span>表示字典变量名，keyn : valuen 表示各个元素的键值对。<br>		<span class="hljs-comment">#同一字典中的各个键key必须唯一，不能重复 value值可以相同</span><br>    <span class="hljs-comment">#使用字符串作为key</span><br>	scores = &#123;<span class="hljs-string">&#x27;数学&#x27;</span>: <span class="hljs-number">95</span>,<span class="hljs-string">&#x27;英语&#x27;</span>: <span class="hljs-number">92</span>,<span class="hljs-string">&#x27;语文&#x27;</span>: <span class="hljs-number">84</span>&#125;<br>	<span class="hljs-built_in">print</span>(scores)<br>	<span class="hljs-comment">#创建空字典</span><br>	dict2 = &#123;&#125;<br>	<span class="hljs-built_in">print</span>(dict2)<br>	<span class="hljs-comment">#使用元组和数字作为key</span><br>	dict1 = &#123;(<span class="hljs-number">20</span>, <span class="hljs-number">30</span>): <span class="hljs-string">&#x27;great&#x27;</span>, <span class="hljs-number">30</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]&#125;<br>	<span class="hljs-built_in">print</span>(dict1)<br><span class="hljs-number">2.</span>通过fromkrys()创建字典<br>	dictname = <span class="hljs-built_in">dict</span>.fromkeys(<span class="hljs-built_in">list</span>, value)<br>    	<span class="hljs-built_in">list</span> 参数表示字典中所有键的列表（<span class="hljs-built_in">list</span>）；<br>		value 参数表示默认值，如果不写，则为空值 <span class="hljs-literal">None</span><br>        eg. knowledge = [<span class="hljs-string">&#x27;语文&#x27;</span>,<span class="hljs-string">&#x27;数学&#x27;</span>,<span class="hljs-string">&#x27;英语&#x27;</span>]<br>            scores = <span class="hljs-built_in">dict</span>.fromkeys(knowledge, <span class="hljs-number">60</span>)<br>            <span class="hljs-built_in">print</span>(scores）<br><span class="hljs-number">3.</span>通过<span class="hljs-built_in">dict</span>()映射函数创建字典<br>    <span class="hljs-comment"># 创建空的字典</span><br>	d = <span class="hljs-built_in">dict</span>()<br>    <span class="hljs-built_in">print</span>(d)<br>          <br>    demo=[(<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-number">1</span>),(<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-number">2</span>),(<span class="hljs-string">&quot;c&quot;</span>,<span class="hljs-number">3</span>)] <span class="hljs-comment">#元组放到列表中</span><br>    dt2 = <span class="hljs-built_in">dict</span>(demo)	<span class="hljs-comment">#通过dict()转化</span><br>    <span class="hljs-built_in">print</span>(dt2)<br>	                  <br>    <span class="hljs-built_in">zip</span> 函数 <span class="hljs-comment">#关联键值对</span><br>	keys=[<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&#x27;c&#x27;</span>]<br>    vals =[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>    dt3 = <span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>(keys,vals))<br>    <span class="hljs-built_in">print</span>(dt3)<br></code></pre></td></tr></table></figure>

<p>增加</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#增加：直接通过键值对方式添加dict中的元素。</span><br>	dname[<span class="hljs-string">&quot;key&quot;</span>] = value<br></code></pre></td></tr></table></figure>

<p>删除</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#能删单一的元素也能清空字典</span><br><span class="hljs-keyword">del</span> <span class="hljs-built_in">dict</span>[<span class="hljs-string">&#x27;key&#x27;</span>] <span class="hljs-comment">#删除键</span><br><span class="hljs-built_in">dict</span>.clear() 	<span class="hljs-comment">#清空字典</span><br><span class="hljs-keyword">del</span> <span class="hljs-built_in">dict</span>		<span class="hljs-comment">#删除字典</span><br></code></pre></td></tr></table></figure>

<p>修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dname[<span class="hljs-string">&quot;Adam&quot;</span>] = <span class="hljs-number">100</span> <span class="hljs-comment">#有key覆盖原始值，没有就添加</span><br></code></pre></td></tr></table></figure>

<p>查找</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1.</span><span class="hljs-built_in">dict</span>用key来访问<br>	<span class="hljs-built_in">print</span> d[<span class="hljs-string">&#x27;Adam&#x27;</span>]<br>	如果key不存在会保错<br>    所以访问之前最好先查询下key是否存在：<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;Adam&#x27;</span> <span class="hljs-keyword">in</span> d : <span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;exist key&#x27;</span><br>	或者用get()直接判断<br>    	<span class="hljs-keyword">if</span> d.get(<span class="hljs-string">&#x27;Adam&#x27;</span>)<br>    	&gt;&gt;&gt; <span class="hljs-built_in">print</span> d.get(<span class="hljs-string">&#x27;Jason&#x27;</span>)<br>		<span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure>

<h4 id="字典遍历"><a href="#字典遍历" class="headerlink" title="字典遍历"></a>字典遍历</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1.</span>遍历key值<br>	<span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> d：<br>    	<span class="hljs-built_in">print</span>(key)<br><span class="hljs-number">2.</span>遍历value<br>	<span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> d:			<br>		<span class="hljs-built_in">print</span>(d[x])<br>    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> a.values():<br>        <span class="hljs-built_in">print</span>(x)<br><span class="hljs-number">3.</span>遍历输出字典项<br>	<span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> d:<br>        <span class="hljs-built_in">print</span>(x,d[x])<br>    <br>    <span class="hljs-keyword">for</span> k,v <span class="hljs-keyword">in</span> d.items(): <span class="hljs-comment">#items()函数获取一整个键值对</span><br>        <span class="hljs-built_in">print</span>(k,v)<br><span class="hljs-number">4.</span>遍历字典健值<br>	<span class="hljs-keyword">for</span> k，v <span class="hljs-keyword">in</span> d.items():<br>        <span class="hljs-built_in">print</span>(k+<span class="hljs-string">&#x27;:&#x27;</span>+v)<br></code></pre></td></tr></table></figure>

<h4 id="字典合并"><a href="#字典合并" class="headerlink" title="字典合并"></a>字典合并</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">d1 = &#123;<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;b&#x27;</span>:<span class="hljs-number">2</span>&#125;<br>d2 = &#123;<span class="hljs-string">&#x27;c&#x27;</span>:<span class="hljs-number">3</span>&#125;<br>d1.update(d2) <span class="hljs-comment"># d1+d2</span><br>d2.update(d1) <span class="hljs-comment"># d2+d1</span><br><br><span class="hljs-comment">#手工将d1和d2数据放入d3</span><br>d3=&#123;&#125;<br><span class="hljs-keyword">for</span> k,v <span class="hljs-keyword">in</span> d1.items():<br> 	d3[k] =v<br><span class="hljs-keyword">for</span> k,v <span class="hljs-keyword">in</span> d2.items():<br> 	d3[k] =v<br><span class="hljs-built_in">print</span>(d3<br></code></pre></td></tr></table></figure>

<p>字典特性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span>）不允许同一个键出现两次。创建时如果同一个键被赋值两次，后一个值会被记住。<br><span class="hljs-number">2</span>）键key必须不可变，所以可以用数字，字符串或元组充当，而用列表就不行。<br><br>字典的内置方法：<br><span class="hljs-built_in">len</span>(<span class="hljs-built_in">dict</span>) 计算字典元素个数，即键的总数。<br><span class="hljs-built_in">str</span>(<span class="hljs-built_in">dict</span>) 输出字典，以可打印的字符串表示。<span class="hljs-comment">#将字典转化为字符串</span><br><span class="hljs-built_in">type</span>(variable) 返回输入的变量类型，如果变量是字典就返回字典类型。<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;dict&#x27;</span>&gt;<br></code></pre></td></tr></table></figure>



<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>set 无序的不重复元素序列</p>
<p>set就像是把Dict中的key抽出来了一样，类似于一个List，但是内容又不能重复</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">从<span class="hljs-string">&#x27;形式&#x27;</span>上看，和字典类似，Python 集合会将所有元素放在一对大括号 &#123;&#125; 中，相邻元素之间用“,”分隔。<br> 	&#123;element1,element2,...,elementn&#125;<br>	其中，elementn 表示集合中的元素，个数没有限制。<br>从<span class="hljs-string">&#x27;内容&#x27;</span>上看，同一集合中，只能存储不可变的数据类型，包括整形、浮点型、字符串、元组，无法存储列表、字典、集合这些可变的数据类型，<br>	否则 Python 解释器会抛出 TypeError 错误<br></code></pre></td></tr></table></figure>

<p>创建</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1.</span>使用&#123;&#125;创建<br>	a = &#123;<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-number">1</span>,(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>),<span class="hljs-string">&#x27;c&#x27;</span>&#125;<br><span class="hljs-number">2.</span>使用<span class="hljs-built_in">set</span>函数创建<br>	<span class="hljs-built_in">set</span>() 函数为 Python 的内置函数，其功能是将字符串、列表、元组、<span class="hljs-built_in">range</span> 对象等 可迭代对象转换成集合。该函数的语法格式如下：<br>	setname = <span class="hljs-built_in">set</span>(iteration)<br>    	<span class="hljs-comment">#字符串转集合</span><br>		set1 = <span class="hljs-built_in">set</span>(<span class="hljs-string">&quot;baidu.com&quot;</span>)<br>        set1: &#123;<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;u&#x27;</span>&#125;<br>		<span class="hljs-comment">#列表转集合</span><br>		set2 = <span class="hljs-built_in">set</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])<br>        set2: &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;<br>        <span class="hljs-comment">#元组转集合</span><br>		set3 = <span class="hljs-built_in">set</span>((<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>))<br>        set3: &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;<br><span class="hljs-string">&#x27;&#x27;&#x27;注意：创建一个空集合必须用 set() 而不是 &#123; &#125;，</span><br><span class="hljs-string">	    因为 &#123; &#125; 是用来创建一个空字典&#x27;&#x27;&#x27;</span>          <br></code></pre></td></tr></table></figure>

<p>访问</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">s = <span class="hljs-built_in">set</span>([<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]) <span class="hljs-comment">#set也是无序的，也不能包含重复的元素</span><br>访问一个<span class="hljs-built_in">set</span>的意义就仅仅在于查看某个元素是否在这个集合里面：<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;A&#x27;</span> <span class="hljs-keyword">in</span> s<br><span class="hljs-literal">True</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;D&#x27;</span> <span class="hljs-keyword">in</span> s<br><span class="hljs-literal">False</span><br>也通过<span class="hljs-keyword">for</span>来遍历：<br>s = <span class="hljs-built_in">set</span>([(<span class="hljs-string">&#x27;Adam&#x27;</span>, <span class="hljs-number">95</span>), (<span class="hljs-string">&#x27;Lisa&#x27;</span>, <span class="hljs-number">85</span>), (<span class="hljs-string">&#x27;Bart&#x27;</span>, <span class="hljs-number">59</span>)])<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> s:<br>	<span class="hljs-built_in">print</span> (x[<span class="hljs-number">0</span>],<span class="hljs-string">&#x27;:&#x27;</span>,x[<span class="hljs-number">1</span>])<br>&gt;&gt;&gt;	Lisa : <span class="hljs-number">85</span><br>	Adam : <span class="hljs-number">95</span><br>	Bart : <span class="hljs-number">59</span><br></code></pre></td></tr></table></figure>

<p>增加</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">通过add和remove来添加、删除元素（保持不重复），<br>添加元素时，用<span class="hljs-built_in">set</span>的add()方法：<br>	s = <span class="hljs-built_in">set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>	s.add(<span class="hljs-number">4</span>)    <span class="hljs-comment">#增加    </span><br>    s.remove(<span class="hljs-number">4</span>)	<span class="hljs-comment">#删除</span><br>不能直接修改    <br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">a = <span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;abcd&#x27;</span>)<br>b = <span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;cdef&#x27;</span>)<br>x = a &amp; b  <span class="hljs-comment">#交集</span><br>y = a | b  <span class="hljs-comment">#合集</span><br>z = a - b  <span class="hljs-comment">#相对补集，差集</span><br></code></pre></td></tr></table></figure>

<p>总结</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span>、<span class="hljs-built_in">list</span>、<span class="hljs-built_in">tuple</span>是有序列表；<span class="hljs-built_in">dict</span>、<span class="hljs-built_in">set</span>是无序列表<br><span class="hljs-number">2</span>、<span class="hljs-built_in">list</span>元素可变、<span class="hljs-built_in">tuple</span>元素不可变<br><span class="hljs-number">3</span>、<span class="hljs-built_in">dict</span>和<span class="hljs-built_in">set</span>的key值不可变，唯一性<br><span class="hljs-number">4</span>、<span class="hljs-built_in">set</span>只有key没有value<br><span class="hljs-number">5</span>、<span class="hljs-built_in">set</span>的用途：去重、并集、交集等<br><span class="hljs-number">6</span>、<span class="hljs-built_in">list</span>、<span class="hljs-built_in">tuple</span>：+、*、索引、切片、检查成员等<br><span class="hljs-number">7</span>、<span class="hljs-built_in">dict</span>查询效率高，但是消耗内存多；<span class="hljs-built_in">list</span>、<span class="hljs-built_in">tuple</span>查询效率低、但是消耗内存<br></code></pre></td></tr></table></figure>

<h2 id="基础杂项"><a href="#基础杂项" class="headerlink" title="基础杂项"></a>基础杂项</h2><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>当全局变量和局部变量命名冲突时，局部变量优先</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">函数中直接修改是修改<span class="hljs-string">&#x27;局部变量&#x27;</span><br>	想要修改全局需要加上 <span class="hljs-keyword">global</span>声明<br>a = <span class="hljs-number">100</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">fun</span>()<br>    <span class="hljs-keyword">global</span> a	<span class="hljs-comment">#声明以下代码中的a都使用全局变量</span><br>    a = <span class="hljs-number">200</span><br></code></pre></td></tr></table></figure>

<h3 id="类型转化"><a href="#类型转化" class="headerlink" title="类型转化"></a>类型转化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(<span class="hljs-string">&quot;1010&quot;</span>,<span class="hljs-number">2</span>))	<span class="hljs-comment">#2转10</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(<span class="hljs-string">&quot;140&quot;</span>,<span class="hljs-number">8</span>))		<span class="hljs-comment">#8转10</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(<span class="hljs-string">&quot;60&quot;</span>,<span class="hljs-number">16</span>))		<span class="hljs-comment">#16转10</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">oct</span>(<span class="hljs-number">8</span>))			<span class="hljs-comment">#10转8</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">hex</span>(<span class="hljs-number">17</span>))			<span class="hljs-comment">#19转16</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bin</span>(<span class="hljs-number">10</span>))			<span class="hljs-comment">#10转2</span><br>&gt;&gt;&gt;<span class="hljs-number">0o10</span><br>&gt;&gt;&gt;<span class="hljs-number">0x11</span><br>&gt;&gt;&gt;<span class="hljs-number">0b1010</span>	<span class="hljs-comment">#前两位告诉属于什么数据类型</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">ord</span>(str1))	<span class="hljs-comment">#将一个字母转化为ASCII码表对应数字值</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">chr</span>(c))		<span class="hljs-comment">#将数字转化为ASCII码表对应字母值</span><br></code></pre></td></tr></table></figure>

<h3 id="可变类型和不可变类型"><a href="#可变类型和不可变类型" class="headerlink" title="可变类型和不可变类型"></a>可变类型和不可变类型</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">不可变：Number 数字， String 字符串 ，<span class="hljs-type">Tuple</span> 元组 <span class="hljs-comment">#内容不可变</span><br><br>可变：<span class="hljs-type">Set</span> 集合 ，<span class="hljs-type">List</span> 列表 ，<span class="hljs-type">Dict</span> 字典<br><span class="hljs-string">&#x27;集合可变是指，可以进行集合运算（交，并，差）</span><br><span class="hljs-string">&#x27;</span>字典一半可变，只value值可变<br></code></pre></td></tr></table></figure>

<h3 id="python同时输入两个数"><a href="#python同时输入两个数" class="headerlink" title="python同时输入两个数"></a>python同时输入两个数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">max</span>(<span class="hljs-params">a,b</span>):<br>    <span class="hljs-keyword">if</span> a &gt; b :<br>        <span class="hljs-built_in">max</span> = a<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">max</span> = b<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(<span class="hljs-built_in">max</span>)<br><br>a,b = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入两个数字&quot;</span>).split()   ; <span class="hljs-string">&#x27;&#x27;&#x27;同时输入两个数 split拆分字符串&#x27;&#x27;&#x27;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(a))     <span class="hljs-comment">#此时接收的数为str类型</span><br><span class="hljs-string">&#x27;&#x27;&#x27;想要输入数仍为int  map函数&#x27;&#x27;&#x27;</span><br><span class="hljs-comment"># a,b = map(int, input(&quot;俩数&quot;).split())</span><br>c = <span class="hljs-built_in">max</span>(a,b)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;两者中较大的是%d &quot;</span>% c)<br></code></pre></td></tr></table></figure>

<p>用map( ) ， split( )以及input( ) 可以实现用input( )同时输入多个数。</p>
<p>1.map( )<br>map()函数接收两个参数，一个是函数，一个是序列，map将传入的函数依次作用到序列的每个元素，并把结果作为新的list返回。</p>
<p>2.split( )<br>拆分字符串。通过指定分隔符对字符串进行切片，并返回分割后的字符串列表（list）</p>
<p>3.map(function,input(“以空格分开”).split())<br>由于input( )输出的是用空格分开的字符串，split( )会分割开各个值并放到列表中，此时在列表中的值是字符串，如果要用于运算必须在map( )中利用int( )或者float( )等处理，再赋值。如果需要赋值的值都是字符串的话就没必要用map函数了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">a,b =<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;输入a,b空格隔开:&#x27;</span>).split()<br><span class="hljs-comment">#此时a,b为str型</span><br>a,b =<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;输入a,b空格隔开:&#x27;</span>).split())<br><span class="hljs-comment">#此时a,b为int型</span><br></code></pre></td></tr></table></figure>







<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p>python 函数 </p>
<p>1、概念：</p>
<p>​	 在数学领域，函数是一种关系，这种关系使一个集合里的 每一个元素对应 到另一个集合里的唯一元素。 y&#x3D; f(x) </p>
<p>计算机的函数，是一个固定的一个程序段，或称其为一个子程序</p>
<p>2、作用：函数是组织好的，可重复使用的，用来实现单一或相关联功能的代码段</p>
<p>3、分类： 内置函数，标准库函数，用户自定义函数</p>
<h2 id="标准库函数"><a href="#标准库函数" class="headerlink" title="标准库函数"></a>标准库函数</h2><p>官方手册地址： <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/">https://docs.python.org/zh-cn/3/</a></p>
<p>所有的库函数都可以先 import 库名 </p>
<p>然后通过 dir(库名) 查看该模块下的所有内置方法</p>
<ol>
<li><p>os	操作系统</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span>	os<br>os.getcwd()			<span class="hljs-comment">#返回当前的工作目录</span><br>	<span class="hljs-built_in">print</span>(os.getcwd)	<span class="hljs-comment">#查看程序所在的绝对路径目录</span><br><br>os.system(<span class="hljs-string">&quot;mkdir today&quot;</span>)	<span class="hljs-comment">#执行系统命令</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>sys  解释器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys			<span class="hljs-comment">#解释器powershell</span><br><span class="hljs-built_in">print</span>(sys.argv)	<span class="hljs-comment">#在解释器中执行命令，argv获取后面传递的参数</span><br>				<span class="hljs-string">&#x27;在程序中获取命令行所传递的参数&#x27;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>math  数学运算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> math<br>math.fabs(-<span class="hljs-number">0.03</span>) <span class="hljs-comment">#返回x的绝对值</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>re  正则表达式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re <span class="hljs-comment">#正则表达式的库 * 任意长度字符 ？ 一个字符长度</span><br>re.findall(<span class="hljs-string">r&#x27;\bf[a-z]*&#x27;</span>, <span class="hljs-string">&#x27;which foot or hand fellfastest&#x27;</span>)<br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="用户自定义函数"><a href="#用户自定义函数" class="headerlink" title="用户自定义函数"></a>用户自定义函数</h2><p>三要素：定义，调用，返回值</p>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>语法：<br>def 函数名（形参数列表）:<br>&lt;缩进&gt;函数体</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">show</span>()：					<span class="hljs-comment">#函数定义</span><br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello show1!!&quot;</span>)<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello show2!!&quot;</span>)<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello show3!!&quot;</span>)<br>    <br>show() 						<span class="hljs-comment">#函数调用</span><br></code></pre></td></tr></table></figure>

<p>注意：函数名称必须符合命名规范，<br>     1、不要和关键字冲突<br>     2、不能用数字开头<br>     3、只能是数字，字母，下划线组成</p>
<h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1.</span>调用函数之前，必须先定义函数<br><span class="hljs-number">2.</span>内置函数对象会自动创建。例如：<span class="hljs-built_in">str</span>,python启动后都创建好了<br><span class="hljs-number">3.</span>标准库和第三方库函数，通过<span class="hljs-keyword">import</span>导入模块时，会执行模块中的<span class="hljs-keyword">def</span>语句<br><span class="hljs-number">4.</span>自定义函数可以在<span class="hljs-string">&#x27;定义位置以下&#x27;</span>任意位置调用，单独调用要顶格书写<br></code></pre></td></tr></table></figure>

<p>特殊情况</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test1</span>(): <span class="hljs-comment">#这是定义函数test1()</span><br>	test()  <span class="hljs-comment">#函数test1()中调用了test()，此时函数test()还没有定义，</span><br>			<span class="hljs-comment">#不过没关系，因为这里只是定义函数test1()，</span><br> 			<span class="hljs-comment">#只要在调用test1()的地方之前定义了test()函数就可以！！！</span><br>            <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>(): <span class="hljs-comment">#这是定义函数test()</span><br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;test&#x27;</span>)<br><br>test1() <span class="hljs-comment">#这里是调用函数test1()的语句，只要在这句之前定义了test()，</span><br> 		<span class="hljs-comment">#程序就不会报错！！</span><br></code></pre></td></tr></table></figure>

<h3 id="函数参数与返回值"><a href="#函数参数与返回值" class="headerlink" title="函数参数与返回值"></a>函数参数与返回值</h3><p>在 python 中，strings, tuples, 和 numbers 是不可更改的对象，而 list,dict 等则是可以修改的对象。</p>
<ol>
<li><p>传不可变对象实例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">ChangeInt</span>(<span class="hljs-params"> a </span>):<br>	a = <span class="hljs-number">10</span>  <span class="hljs-comment">#修改仅限于函数内部</span><br><br>b = <span class="hljs-number">2</span><br>ChangeInt(b)<br><span class="hljs-built_in">print</span>(b) 		<span class="hljs-comment"># 结果仍是2</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>传可变对象实例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 可写函数说明</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">changeme</span>(<span class="hljs-params"> mylist </span>): <span class="hljs-comment">#修改传入的列表</span><br>	mylist.append([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])	<span class="hljs-comment">#追加</span><br>	<span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;函数内取值: &quot;</span>, mylist)<br>	<span class="hljs-keyword">return</span><br><br><span class="hljs-comment"># 调用changeme函数</span><br>mylist = [<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>]<br>changeme( mylist )<br><span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;函数外取值: &quot;</span>, mylist)	<span class="hljs-comment">#函数内修改函数外也能访问</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>默认参数</p>
<p>调用函数时，如果没有传递参数，则会使用默认参数。 以下实例中如果没有传入 age 参数，则使用默认值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">printinfo</span>(<span class="hljs-params"> name, age = <span class="hljs-number">30</span> </span>):<br>	<span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;名字: &quot;</span>, name)<br>	<span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;年龄: &quot;</span>, age)<br>	<span class="hljs-keyword">return</span><br><span class="hljs-string">&#x27;&#x27;&#x27;注意：默认值只能从函数的参数 右边向左边 依次给默认值</span><br><span class="hljs-string">		不能从左向右，或者跳参数赋值。&#x27;&#x27;&#x27;</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xiaoming&quot;</span>,<span class="hljs-number">18</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xiaochen&quot;</span>)<br><span class="hljs-built_in">print</span>(age = <span class="hljs-number">19</span>,name = <span class="hljs-string">&#x27;xiaochen&#x27;</span>)<br><span class="hljs-string">&#x27;&#x27;&#x27;调用时传递参数，按形参顺序给值，乱序需要指明具体形参&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>不定长参数</p>
<p>函数需要处理比当初声明时更多的参数，这些参数叫做不定长参数</p>
<p>加单星号 * 的参数会以元组(tuple)的形式导入，存放所有未命名的变量参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">printinfo</span>(<span class="hljs-params"> arg1, *vartuple </span>): 	<span class="hljs-comment">#单* 元组</span><br>	<span class="hljs-built_in">print</span> (arg1)			<br>	<span class="hljs-built_in">print</span> (vartuple)<br> <br>printinfo( <span class="hljs-number">70</span>, <span class="hljs-number">60</span>, <span class="hljs-number">50</span>)<br>&gt;&gt;&gt;<span class="hljs-number">70</span><br>&gt;&gt;&gt;(<span class="hljs-number">60</span>,<span class="hljs-number">50</span>)<br></code></pre></td></tr></table></figure>

<p>加了两个星号 ** 的参数会以字典的形式导入 注意事项：双星号的位置参数必须保证是字典形式，否则解释错误</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">printinfo</span>(<span class="hljs-params"> arg1, **vardict </span>):	<span class="hljs-comment">#双** 传字典</span><br>	<span class="hljs-built_in">print</span> (arg1)<br>	<span class="hljs-built_in">print</span> (vardict)<br><br>printinfo(<span class="hljs-number">1</span>, a=<span class="hljs-number">2</span>,b=<span class="hljs-number">3</span>) 		<span class="hljs-comment">#注意参数形式</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>&#123;<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;b&#x27;</span>:<span class="hljs-number">3</span>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>函数返回值</p>
<p>return [表达式] 语句用于退出函数</p>
<p>如果函数体中包含return语句，则结束函数执行并返回值</p>
<p>如果函数体中不包含return语句，则返回None值</p>
<p>要返回多个返回值，使用列表、元组、字典、集合将多个值“存起来”即可</p>
<p>注：函数一次返回多个结果时，是以元组的形式返回的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">show</span>()<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;aaa&quot;</span>)<br>	<span class="hljs-keyword">return</span>			<span class="hljs-comment">#不写return 或者光写return 都是返回None</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test03</span>():<br>    msg=<span class="hljs-string">&#x27;我要返回多个值&#x27;</span><br>    <span class="hljs-built_in">print</span>(msg)<br>    <span class="hljs-keyword">return</span> msg,<span class="hljs-string">&quot;hello xiaozhu&quot;</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br><br>t3=test03()<br><span class="hljs-built_in">print</span>(t3)<br><br>&gt;&gt;&gt;(<span class="hljs-string">&#x27;我要返回多个值&#x27;</span>, <span class="hljs-string">&#x27;hello xiaozhu&#x27;</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br><br><span class="hljs-comment">#注：函数一次返回多个结果时，是以元组的形式返回的(不确定具体类型)</span><br></code></pre></td></tr></table></figure>

<h2 id="递归算法"><a href="#递归算法" class="headerlink" title="递归算法"></a>递归算法</h2><p>函数调用函数自己本身，递归操作</p>
</li>
<li><p>求一个数n的阶乘</p>
<p>f(n) &#x3D; n * (n - 1) * (n - 2)…. *2 * 1</p>
<p>或</p>
<p>f( n ) &#x3D; n * f (n -1)</p>
</li>
<li><p>斐波那契数列</p>
<p>前两项之和等于第三项，从第三列开始</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">Fibonacci</span>(<span class="hljs-params">n</span>):<br><span class="hljs-keyword">if</span>	n == <span class="hljs-number">1</span>:		<span class="hljs-comment">#边界条件 必须有这种结束位置</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br><span class="hljs-keyword">elif</span> n == <span class="hljs-number">0</span>:<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><span class="hljs-keyword">elif</span> n &gt;= <span class="hljs-number">2</span>:<br>	<span class="hljs-keyword">return</span> FiBonacci(n- <span class="hljs-number">1</span>) + Fibonacci(n - <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-built_in">list</span> =[]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        <span class="hljs-keyword">if</span> i ==<span class="hljs-number">1</span> <span class="hljs-keyword">or</span> i ==<span class="hljs-number">0</span>:<br>            <span class="hljs-built_in">list</span>.append(<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">list</span>.append(<span class="hljs-built_in">list</span>[i-<span class="hljs-number">2</span>]+<span class="hljs-built_in">list</span>[i-<span class="hljs-number">1</span>])<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span>[<span class="hljs-number">10</span>]<br></code></pre></td></tr></table></figure></li>
</ol>
<h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><p>python 模块概念<br>1、Python 模块(Module)，是一个 Python 文件，以 .py 结尾，包含了 Python 对象定义和Python函数语句。<br>2、模块能定义函数，类和变量，模块里也能包含可执行的代码。<br>3、每个模块都是一个独立的名称空间</p>
<p>模块分三种</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-number">1</span>、内置模块(又称标准库)<br>	执行help(&#x27;modules&#x27;)查看所有Python自带模块列表<br><span class="hljs-number">2</span>、第三方开源模块，可通过 pip install 模块名（互联网安装）<br><span class="hljs-number">3</span>、自定义模块<br></code></pre></td></tr></table></figure>

<h2 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#第一种导入</span><br><span class="hljs-keyword">import</span> module[,module1,module2 ...] <span class="hljs-comment"># 引入模块如果有多个用&quot;,&quot;隔开</span><br><span class="hljs-string">&#x27;&#x27;&#x27;路径为工程绝对路径，module需要加上文件名&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure>

<p>Python查找模块顺序：</p>
<ol>
<li>在当前目录，即当前执行的程序文件所在目录下查找；</li>
<li>到 PYTHONPATH（环境变量）下的每个目录中查 找； </li>
<li>到 Python 默认的安装目录下查找</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#第二种导入：</span><br><span class="hljs-keyword">from</span> 模块名 <span class="hljs-keyword">import</span> 函数名		<span class="hljs-comment">#导入模块的一部分</span><br><span class="hljs-keyword">from</span> modname <span class="hljs-keyword">import</span> name1[, name2[, ... nameN]]<br></code></pre></td></tr></table></figure>

<p>Python 的 from 语句让你从模块中导入一个指定的部分到当前命名空间中 </p>
<p>​	这个声明不会把整个模块导入到当前的命名空间中， </p>
<p>​	它只会将 fib 里的 name1 单个引入到执行这个声明的模块的全局符号表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#第三种导入：</span><br><span class="hljs-keyword">import</span> 模块名 <span class="hljs-keyword">as</span> 新名字<br>相当于给导入的模块名称重新起一个别名，便于记忆，方便地在程序中调用<br></code></pre></td></tr></table></figure>

<p>使用模块</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">模块名.函数名()		<span class="hljs-meta">#在当前代码中调用模块函数</span><br></code></pre></td></tr></table></figure>

<h2 id="内置模块使用"><a href="#内置模块使用" class="headerlink" title="内置模块使用"></a>内置模块使用</h2><ol>
<li><p>datetime是Python中处理日期和时间的标准模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime <br><br>now = datetime.now()	<span class="hljs-comment">#获取当前实时datetime，可以测试性能</span><br>dt = datetime(<span class="hljs-number">2021</span>,<span class="hljs-number">10</span>,<span class="hljs-number">31</span>,<span class="hljs-number">10</span>,<span class="hljs-number">23</span>) <span class="hljs-comment">#用指定日期时间创建datetime</span><br><span class="hljs-string">&#x27;&#x27;&#x27;数字转换为datetime类型&#x27;&#x27;&#x27;</span><br><br><span class="hljs-comment">#str转换为datetime</span><br>datee_test = datetime.strptime(<span class="hljs-string">&#x27;2018-06-19 13:15:00&#x27;</span>, <span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)<br><br><span class="hljs-comment">#datetime转换为str</span><br>now = datetime.now()<br><span class="hljs-built_in">print</span>(now.strftime(<span class="hljs-string">&#x27;%a, %b %d %H:%M&#x27;</span>))<br>• %a 本地简化星期名称<br>• %b 本地简化的月份名称<br>• %H <span class="hljs-number">24</span>小时制小时数（<span class="hljs-number">0</span>-<span class="hljs-number">23</span>）<br>• %M 分钟数（<span class="hljs-number">00</span>-<span class="hljs-number">59</span>）<br></code></pre></td></tr></table></figure>
</li>
<li><p>sys 解释器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(sys.argv)):<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;argv&#123;0&#125;: type is &#123;1&#125;, value is&#123;2&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(i, <span class="hljs-built_in">type</span>(sys.argv[i]), sys.argv[i])<br>      <span class="hljs-comment">#sys获取命令行参数</span><br>在命令行下运行该脚本，并提供几个参数<br>python argv_test.py <span class="hljs-number">1</span> a <span class="hljs-number">2</span> b <span class="hljs-number">3</span> c`<br></code></pre></td></tr></table></figure>
</li>
<li><p>python的休眠函数sleep</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;Start : %s&quot;</span> % time.ctime())  <span class="hljs-comment">#获取当前时间</span><br>time.sleep( <span class="hljs-number">5</span> ) <span class="hljs-comment">#休眠5秒钟，单位秒</span><br><span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;End : %s&quot;</span> % time.ctime())<br><span class="hljs-comment">#保证循环时不空转</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>python 的暂停动作,程序在该位置会处于睡眠状态</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br>os.system(<span class="hljs-string">&quot;pause&quot;</span>);<br><span class="hljs-comment">#当再次按下 enter键的时候程序恢复运行</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="自定义模块"><a href="#自定义模块" class="headerlink" title="自定义模块"></a>自定义模块</h2><p>1、在同一文件夹下模块函数调用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">A.py文件：<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x,y</span>):<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x + y = %d&quot;</span>% (x+y))<br>B.py文件：<br><span class="hljs-keyword">import</span> A<br>A.add(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br>或<br><span class="hljs-keyword">from</span> A <span class="hljs-keyword">import</span> add<br>add(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure>

<p>2、在同一文件夹下模块类调用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">A.py文件:<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,xx,yy</span>):<br>        self.x=xx<br>        self.y=yy<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x和y的和为：%d&quot;</span>%(self.x+self.y))<br><br>B.py文件调用：<br><span class="hljs-keyword">from</span> A <span class="hljs-keyword">import</span> A<br>a=A(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)	<span class="hljs-comment">#构造</span><br>a.add()		<span class="hljs-comment">#调用成员函数</span><br>或<br><span class="hljs-keyword">import</span> A<br>a=A.A(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)<br>a.add()<br><br></code></pre></td></tr></table></figure>

<p>3、在不同文件夹下模块调用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&#x27;&#x27;&#x27;不在同一目录下，无法直接导入&#x27;&#x27;&#x27;</span><br>mod_add.py文件的文件路径：E:\<br><br><span class="hljs-keyword">import</span> sys<br>sys.path.append(<span class="hljs-string">r&quot;E:\\&quot;</span>)  <span class="hljs-comment">#将其路径添加到环境变量里，r使转义字符无效</span><br><br><span class="hljs-keyword">import</span> mod_add		<span class="hljs-comment">#间接导入</span><br>n = mod_add.add(<span class="hljs-number">14</span>, <span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(n)<br>mod_add.show()<br><br>拷贝文件到系统安装路径下，不需要导入，直接使用<br><span class="hljs-string">&#x27;&#x27;&#x27;将要导入的模块，复制到Python中lib文件里,D:\Python\Lib&#x27;&#x27;&#x27;</span><br><br>python <span class="hljs-keyword">import</span>模块时， 是在sys.path里按顺序查找的。<br>sys.path是一个列表，里面以字符串的形式存储了许多路径。<br>使用A.py文件中的函数需要先将他的文件路径放到sys.path中<br><br></code></pre></td></tr></table></figure>

<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><p>模块的升级版：包</p>
<p>包的概念：把许多个模块按照功能放到不同的目录中来组织模块</p>
<p>​		这些组织存放模块文件的目录，我们称之为包。</p>
<p>​		包只是模块的一种形式而已，包的本质也是一种模块。</p>
<pre><code class="hljs">     一个包含\__init__.py文件的目录，
</code></pre>
<p>​		创建包的目的不是为了运行，而是被导入使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">__init__.py 文件的作用<br>在每一个包目录下，都应该有一个 __init__.py 文件，<br><span class="hljs-string">&#x27;若这个文件不存在，那么这个目录只是一个目录而不是一个包&#x27;</span><br>__init__.py 文件可以是空文件，也可以有 Python 代码，原则是尽量保持__init__.py 文件的精简~<br></code></pre></td></tr></table></figure>

<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">导入包的语句如下：<br><span class="hljs-keyword">import</span> package <br>引入包下的某一个模块<br><span class="hljs-keyword">from</span> package <span class="hljs-keyword">import</span> module<br></code></pre></td></tr></table></figure>

<p>1、新建一个包文件<br>2、在该包文件下新建多个模块文件 test1.py test2.py<br>3、在包下的模块文件中分别编写函数或者类<br>4、在包同一级别的位置新建一个测试模块 test.py<br>5、在测试模块中引入包 	from 包 import 模块   或者 from 包.模块 import 函数<br>6、在测试模块中使用包中函数和变量</p>
<h2 id="第三方模块"><a href="#第三方模块" class="headerlink" title="第三方模块"></a>第三方模块</h2><h3 id="Pip安装"><a href="#Pip安装" class="headerlink" title="Pip安装"></a>Pip安装</h3><ol>
<li><p>命令提示符安装：</p>
<p>cmd中，pip	–version 查看是否有pip工具，没有则需要安装</p>
<p><a target="_blank" rel="noopener" href="https://bootstrap.pypa.io/get-pip.py">https://bootstrap.pypa.io/get-pip.py</a> 获取python get-pip.py,</p>
<p>切到D盘，通过python	get-pip.py 命令直接安装</p>
</li>
<li><p>pip命令使用（在cmd中执行，没有进入python）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">&gt; pip install &lt;包名&gt; 		<span class="hljs-comment"># 安装最新版</span><br>&gt; pip uninstall &lt;包名&gt; 	<span class="hljs-comment">#卸载Python包</span><br><br>&gt; pip install -v &lt;包名&gt;==&lt;verison&gt; 	<span class="hljs-comment"># 安装指定版本</span><br>&gt; python -m pip install &lt;包名&gt; 		<span class="hljs-comment"># 安装最新版</span><br>&gt; pip search &lt;包名&gt;					<span class="hljs-comment">#搜索包</span><br>&gt; pip install --upgrade &lt;包名&gt; 		<span class="hljs-comment">#升级包到最新版本</span><br><br>&gt; pip <span class="hljs-built_in">list</span> 				 <span class="hljs-comment">#列出已经安装的Python包</span><br>&gt; pip show &lt;包名&gt; 		<span class="hljs-comment">#查看某个包的信息</span><br>&gt; pip show --files &lt;包名&gt; <span class="hljs-comment">#查看某个包下的文件</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>需要安装的库</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">lxml <span class="hljs-keyword">BeautifulSoup4 </span>urllib3 requests <span class="hljs-keyword">jieba </span>pyqt5 <span class="hljs-keyword">scapy</span><br></code></pre></td></tr></table></figure>

<p>pip 缓存位置：C: \Users\Administrator\AppData\Local\pip\cache</p>
<p>pip 安装位置：D:\Python\Lib\site-packages</p>
</li>
</ol>
<h3 id="pycharm-安装模块"><a href="#pycharm-安装模块" class="headerlink" title="pycharm 安装模块"></a>pycharm 安装模块</h3><p>file–》setting –》project untitled –&gt;project InterPreter<br>有一个加号 单击进入 在最上面的搜索栏输入要安装的包名<br>左下角 install Package 安装<br>如果安装过程失败或者速度很慢，可以考虑修改数据来源地址<br>左下角 Manage Repositories（管理仓库）</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs awk">清华：https:<span class="hljs-regexp">//</span>pypi.tuna.tsinghua.edu.cn/simple<br>阿里：http:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/pypi/</span>simple/<br>豆瓣：http:<span class="hljs-regexp">//</span>pypi.douban.com<span class="hljs-regexp">/simple/</span><br>华中理工大学：http:<span class="hljs-regexp">//</span>pypi.hustunique.com/<br>山东理工大学：http:<span class="hljs-regexp">//</span>pypi.sdutlinux.org/<br>中国科学技术大学：http:<span class="hljs-regexp">//</span>pypi.mirrors.ustc.edu.cn/<br><br>官方： https:<span class="hljs-regexp">//</span>pypi.python.org/simple<br></code></pre></td></tr></table></figure>







<h1 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h1><p>python 文件操作： 原因：数据持久化存储</p>
<p>不论那种语言，对于文件的操作都有如下基本流程：<br>打开文件 &#x3D;&#x3D;》读写(定位)文件 &#x3D;&#x3D;》关闭文件<br>open() 												close()</p>
<h2 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h2><p>打开文件时，需要指定文件路径和以何等方式打开文件，<br>打开后，即可获取该文件句柄，日后通过此文件句柄对该文件操作。<br>Python使用内置的open()函数打开一个文件，并且返回一个文件对象，也叫句柄(handle)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>) 	<span class="hljs-comment"># 在本文件夹下面的一个文件</span><br>没有文件：<br>异常： No such file <span class="hljs-keyword">or</span> directory: <span class="hljs-string">&#x27;test.txt“</span><br><span class="hljs-string">有文件：</span><br><span class="hljs-string">正常： &lt;_io.TextIOWrapper name=&#x27;</span>test.txt<span class="hljs-string">&#x27; mode=&#x27;</span><span class="hljs-string">r&#x27;encoding=&#x27;</span>cp936<span class="hljs-string">&#x27;&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;C:/Pf = open(&quot;</span>C:/Python33/README.txt<span class="hljs-string">&quot;) # 全路径</span><br><span class="hljs-string">f = open(r&quot;</span>C:\Python\Lib\ctypes\test\test_anon.py<span class="hljs-string">&quot;)&quot;</span>)<br>         r 转义字符无效，<span class="hljs-string">&#x27;/&#x27;</span>和<span class="hljs-string">&#x27;r+\&#x27; 相同</span><br></code></pre></td></tr></table></figure>



<p>注意有时候，打开文件时，我们需要指定文件打开的模式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-comment">#默认 只读 必须存在</span><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-comment">#只写 创建 清空功能 慎重使用</span><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-comment">#追加 创建</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">所有的模式如下：常用模式<br>| r | 文本模式，读取 默认模式 ，r 这种应该在后面注明编码格式<br>			如encode=‘UTF-<span class="hljs-number">8</span>’|<br>| rb | 二进制模式，读取，不能指定编码格式 |<br>| w | 文本模式，写入 |<br>| wb | 二进制模式，写入 |<br>| a | 文本模式，追加 |<br>| ab | 二进制模式，追加 |<br>| + | 可读可写 |<br>r+ rb+ w+ wb+ a+ ab+   <span class="hljs-comment">#&quot;+&quot;增加写入功能</span><br></code></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/02/24/Xle3Ywp7bcifhDo.png" srcset="/img/loading.gif" lazyload alt="image-20211031170407552"></p>
<p>打开文件的类型主要有两种:</p>
<ol>
<li>ASCII文件（文本文件），用文本编辑器可以直接打开阅读</li>
<li>二进制文件（图片，视频，音频），不能用文本编辑器打开读写</li>
</ol>
<p>注意事项</p>
<p>1.编码问题 		(指定编码是其在liunx也可查看)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">windows 向 liunx 转换 <br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>,mode=<span class="hljs-string">&quot;r&quot;</span>,encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>) 对<br>	<span class="hljs-comment">#文本文件才有可能需要编码</span><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;text.bin&quot;</span>,mode=<span class="hljs-string">&quot;rb&quot;</span>,encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>) 错<br>	<span class="hljs-comment">#二进制文件不需要指定编码</span><br>否则会报出异常：binary mode doesn<span class="hljs-string">&#x27;t take an encoding</span><br><span class="hljs-string">argument</span><br></code></pre></td></tr></table></figure>

<p>2.读取非UTF-8编码的文本文件，需要给open()函数传入 encoding参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">liunx 向 windows转化<br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;/Users/gbk.txt&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;gbk&#x27;</span>)<br>f.read()<br></code></pre></td></tr></table></figure>

<p>3.遇到有些编码不规范的文件，你可能会遇到 UnicodeDecodeError，因为在文本文件中可能夹杂了一些非法编码的字符。<br>遇到这种情况，open() 函数还接收一个errors参数， 表示如果遇到编码错误后如何处理。最简单的方式是直接忽略：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;/Users/gbk.txt&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;gbk&#x27;</span>,errors=<span class="hljs-string">&#x27;ignore&#x27;</span>)<br></code></pre></td></tr></table></figure>

<h2 id="文件关闭"><a href="#文件关闭" class="headerlink" title="文件关闭"></a>文件关闭</h2><p>文件关闭： f.close()    —-打开文件后要记得关闭</p>
<p>官方建议： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test.txt&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>		do_something()<br>使用这种用法，我们不必调用close()方法，在<span class="hljs-keyword">with</span>语句程序内部就会执行，无论内部是否出现异常<br><span class="hljs-comment">#超出作用域范围就会自动关闭,减少内存浪费</span><br></code></pre></td></tr></table></figure>

<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><p>以文本方式写入的文件，建议指定编码</p>
<h3 id="写操作"><a href="#写操作" class="headerlink" title="写操作"></a>写操作</h3><p>write()方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">f.write(<span class="hljs-string">&quot;hello world&quot;</span>)		<span class="hljs-string">&#x27;&#x27;&#x27;写入一行数据&#x27;&#x27;&#x27;</span><br>		<span class="hljs-comment">#向目标文本文件写入一行字符串</span><br>		<span class="hljs-comment">#写入的内容是从文件开头位置开始,在一次操作中数据依次有效</span><br>		<span class="hljs-comment">#原来的文件内容保留，开头位置会被覆盖。</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&quot;r+&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    f.write(<span class="hljs-string">&quot;123&quot;</span>)<br>    f.wirte(<span class="hljs-string">&quot;456&quot;</span>)	<span class="hljs-comment">#在本次操作中数据依次有效</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">seq = [<span class="hljs-string">&quot;hello world 1\n&quot;</span>, <span class="hljs-string">&quot;nihao wohao 2&quot;</span>] <br>f.writelines( seq ) 	<span class="hljs-string">&#x27;&#x27;&#x27;写入多行数据&#x27;&#x27;&#x27;</span><br>		<span class="hljs-comment">#writelines()方法写入文件的字符串序列</span><br></code></pre></td></tr></table></figure>

<h3 id="读操作"><a href="#读操作" class="headerlink" title="读操作"></a>读操作</h3><p>文件读操作：read()方法从文件读取指定的字节数，如果未给定或为负则读取所有</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">ret = f.read() 	<span class="hljs-comment">#默认全部读出</span><br>ret = f.read(<span class="hljs-number">5</span>) <span class="hljs-comment">#从文件开头读出指定长度字符</span><br></code></pre></td></tr></table></figure>

<p>readline()	读取一行数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">ret = f.readline()	<span class="hljs-comment">#读取一行</span><br></code></pre></td></tr></table></figure>

<p>readlines() 读取多行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">ret = f.readlines() <span class="hljs-comment">#将文件所有行构成列表</span><br><span class="hljs-string">&#x27;&#x27;&#x27;返回的是一个列表，但是当数据较大时，这样的用法会很占用内存&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure>

<h3 id="文件遍历操作"><a href="#文件遍历操作" class="headerlink" title="文件遍历操作"></a>文件遍历操作</h3><p>1、逐行读取一个文本文件，并且在每一行的最后加上一个逗号</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">while</span> Ture:<br>	ret = f.readline() <span class="hljs-comment">#读一行</span><br>	<span class="hljs-keyword">if</span> ret == <span class="hljs-string">&quot;&quot;</span>: 		<span class="hljs-comment">#判断结尾</span><br>		<span class="hljs-keyword">break</span><br>	<span class="hljs-built_in">print</span>(ret.strip(<span class="hljs-string">&quot; &quot;</span>) + <span class="hljs-string">&quot;,&quot;</span>)  <span class="hljs-comment">#strip将结尾换行符换为&quot; &quot; </span><br></code></pre></td></tr></table></figure>

<p>2、遍历输出指定目录下的所有目录和普通文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> root, dirs, files <span class="hljs-keyword">in</span> os.walk(<span class="hljs-string">&quot;../&quot;</span>):<br>	<span class="hljs-built_in">print</span>(root) <span class="hljs-comment">#当前目录路径</span><br>	<span class="hljs-built_in">print</span>(dirs)	<span class="hljs-comment">#当前路径下所以子目录</span><br>	<span class="hljs-built_in">print</span>(files) <span class="hljs-comment">#当前路径下所以非子目录文件</span><br></code></pre></td></tr></table></figure>



<h3 id="文件定位操作"><a href="#文件定位操作" class="headerlink" title="文件定位操作"></a>文件定位操作</h3><p>解决问题：一个文件写完后不能直接读？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test.txt&#x27;</span>,<span class="hljs-string">&#x27;r+&#x27;</span>) <span class="hljs-keyword">as</span> f:       <br>    f.write(<span class="hljs-string">&quot;caopb 123456\n&quot;</span>)<br>    f.writelines(seq)<br>    ret = f.read()<br>    <span class="hljs-built_in">print</span>(ret)		<span class="hljs-comment">#读不到内容，文件指针位于写操作内容之后</span><br>    <br>    <span class="hljs-built_in">print</span>(f.tell()) <span class="hljs-comment">#会将文件指针距离文件开头的字节数打印出来</span><br>    f.seek(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)	<span class="hljs-comment">#从文件开头偏移0字节 == 将指针定位到文件开头位置</span><br></code></pre></td></tr></table></figure>

<p>tell() 方法用于获取文件当前指针距离文件开头位置<br>seek() 方法用于移动文件读取指针到指定位置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">f.seek(offset[, whence])<br>其中：<br>	offset -- 开始的偏移量，也就是代表需要移动偏移的字节数<br>	offset &gt;<span class="hljs-number">0</span> 向文件末尾偏移<br>	offset &lt;<span class="hljs-number">0</span> 向文件开头偏移<br><br>	whence：可选，默认值为 <span class="hljs-number">0</span>。<br>	给offset参数一个定义，表示要从哪个位置开始偏移；<br>	<span class="hljs-number">0</span>代表从文件开头开始算起，<br>	<span class="hljs-number">1</span>代表从当前位置开始算起，<span class="hljs-comment">#b模式打开</span><br>	<span class="hljs-number">2</span>代表从文件末尾算起	<span class="hljs-comment">#要用b模式打开</span><br><br>seek()函数报错：can<span class="hljs-string">&#x27;t do nonzero end-relativeseeks</span><br><span class="hljs-string">	在文本文件中，没有使用b模式选项打开的文件，只允许从文件头开始计算相对位置，从文件尾计算时就会引发异常。</span><br></code></pre></td></tr></table></figure>

<h3 id="文件重命名，删除，创建"><a href="#文件重命名，删除，创建" class="headerlink" title="文件重命名，删除，创建"></a>文件重命名，删除，创建</h3><p>引入标准库函数os</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os 	导入os函数<br><span class="hljs-comment">#os 模块中的 rename()可以完成对文件的重命名操作</span><br>os.rename(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&quot;test2.txt&quot;</span>) <br><span class="hljs-comment">#os 模块中的 remove()可以完成对文件的删除操作		</span><br>os.remove(<span class="hljs-string">&quot;test.txt&quot;</span>)<br><br>os.mkdir(<span class="hljs-string">&quot;张三&quot;</span>) 	<span class="hljs-comment">#创建文件夹(目录)</span><br>os.rmdir(<span class="hljs-string">&quot;李四&quot;</span>)	<span class="hljs-comment">#删除空文件夹</span><br><br>os.listdir(<span class="hljs-string">&#x27;./&#x27;</span>)	<span class="hljs-comment">#获取目录列表</span><br>	<span class="hljs-number">1.</span><span class="hljs-built_in">print</span>(os.listdir()) 将当前目录储存为列表形式输出<br>    <span class="hljs-number">2.</span><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> os.listdir()<br>    	<span class="hljs-built_in">print</span>(x)<br><br>os.chdir(<span class="hljs-string">&quot;../&quot;</span>) <span class="hljs-comment">#改变默认工作目录</span><br><br>path = os.path.splitext(path)	分割路径中的文件名与拓展名<br><span class="hljs-comment">#将文件名和后缀以元组形式储存   path[0]文件名，path[1 ]后缀名</span><br></code></pre></td></tr></table></figure>

<h2 id="XLS-读写"><a href="#XLS-读写" class="headerlink" title="XLS 读写"></a>XLS 读写</h2><p>excel文件的操作：</p>
<p>Python中xlrd和xlwt模块使用方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">xlrd模块实现对excel文件内容读取，<br>xlwt模块实现对excel文件内容写入<br><br><span class="hljs-comment">#需要安装这两个第三方模块</span><br>pip install xlrd<br>pip install xlwt<br></code></pre></td></tr></table></figure>

<h3 id="写操作-1"><a href="#写操作-1" class="headerlink" title="写操作"></a>写操作</h3><h4 id="基本流程"><a href="#基本流程" class="headerlink" title="基本流程"></a>基本流程</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span>、导入模块<br>　 　<span class="hljs-keyword">import</span> xlwt<br><span class="hljs-number">2</span>、创建workbook（其实就是excel，后来保存一下就行）<br>　 　 workbook = xlwt.Workbook(encoding = <span class="hljs-string">&#x27;ascii&#x27;</span>)<br><span class="hljs-number">3</span>、创建表的sheet<br>　 　 worksheet = workbook.add_sheet(<span class="hljs-string">&#x27;My Worksheet&#x27;</span>)<br><span class="hljs-number">4</span>、往单元格内写入内容<br>		 ***.write(行,列,labal = 内容)<br>　 　 worksheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, label = <span class="hljs-string">&#x27;Row 0, Column 0 Value&#x27;</span>)<br><span class="hljs-number">5</span>、保存<br>　 　 workbook.save(<span class="hljs-string">&#x27;Excel_Workbook.xls&#x27;</span>)<br></code></pre></td></tr></table></figure>

<h4 id="优化操作"><a href="#优化操作" class="headerlink" title="优化操作"></a>优化操作</h4><p>1.带样式写入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> xlwt<br><br>workbook = xlwt.Workbook(encoding = <span class="hljs-string">&#x27;ascii&#x27;</span>)<br>worksheet = workbook.add_sheet(<span class="hljs-string">&#x27;My Worksheet&#x27;</span>)<br><br>style = xlwt.XFStyle() 	<span class="hljs-comment"># 初始化样式</span><br>font = xlwt.Font() 		<span class="hljs-comment"># 为样式创建字体</span><br>font.name = <span class="hljs-string">&#x27;Times New Roman&#x27;</span><br>font.bold = <span class="hljs-literal">True</span> 		<span class="hljs-comment"># 黑体</span><br>font.underline = <span class="hljs-literal">True</span> 	<span class="hljs-comment"># 下划线</span><br>font.italic = <span class="hljs-literal">True</span> 		<span class="hljs-comment"># 斜体字</span><br>style.font = font 		<span class="hljs-comment"># 设定样式</span><br><span class="hljs-comment"># 样式创建完成储存在style中，具体写入时调用</span><br><br>worksheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;没样式&#x27;</span>) <span class="hljs-comment"># 不带样式的写入</span><br>worksheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;有样式&#x27;</span>, style) <span class="hljs-comment"># 带样式的写入</span><br><br>workbook.save(<span class="hljs-string">&#x27;Excel_test.xls&#x27;</span>) <span class="hljs-comment"># 保存文件</span><br></code></pre></td></tr></table></figure>

<p>2、设置单元格宽度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">worksheet.col(<span class="hljs-number">0</span>).width = <span class="hljs-number">3333</span><br><span class="hljs-comment"># col(0) 0列的宽度 </span><br></code></pre></td></tr></table></figure>

<p>3、输入一个日期到单元格</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> datetime <span class="hljs-comment"># 引入datetime模块</span><br><br>style = xlwt.XFStyle()<br>style.num_format_str = <span class="hljs-string">&#x27;M/D/YY&#x27;</span><br><span class="hljs-comment"># Other options: D-MMM-YY, D-MMM, MMM-YY, h:mm, h:mm:ss, h:mm, h:mm:ss, M/D/YY h:mm, mm:ss, [h]:mm:ss, mm:ss.0</span><br>worksheet.write(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,datetime.adtetime.now(),style)<br></code></pre></td></tr></table></figure>

<p>4、向单元格添加一个公式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">worksheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>) <span class="hljs-comment"># 输入 5</span><br>worksheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>) <span class="hljs-comment"># 输入 2</span><br>worksheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, xlwt.Formula(<span class="hljs-string">&#x27;A1*B1&#x27;</span>)) <br>	<span class="hljs-comment"># 输出 &quot;10&quot; (A1[5] * A2[2])</span><br>worksheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, xlwt.Formula(<span class="hljs-string">&#x27;SUM(A1,B1)&#x27;</span>)) <br>	<span class="hljs-comment">#输出 &quot;7&quot; (A1[5] + A2[2])</span><br></code></pre></td></tr></table></figure>

<p>5、向单元格添加一个超链接：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">worksheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, xlwt.Formula(<span class="hljs-string">&#x27;HYPERLINK(&quot;http://www.bilibil.com&quot;;&quot;bilibili&quot;)&#x27;</span>)) <br><span class="hljs-comment">#内容显示为bilibili，其中链接了一个网址</span><br><span class="hljs-comment">#如果没有分号后面内容，则直接显示一个可连接的网址</span><br></code></pre></td></tr></table></figure>

<p>6、合并行和列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 合并从0行到0行，从0列到1列</span><br>worksheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;合并单元格&#x27;</span>,style)<br><span class="hljs-comment"># 合并从2行到4行，从0列到3列</span><br>worksheet.write_merge(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;合并单元格&#x27;</span>)<br><span class="hljs-string">&#x27;合并中不能有内容，是将小格子变大格子，并填充内容&#x27;</span><br></code></pre></td></tr></table></figure>

<p>7、设置单元格内容的对其方式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python">alignment = xlwt.Alignment() <span class="hljs-comment">#初始化Alignment</span><br>horz代表 水平 对齐方式，vert代表 垂直 对齐方式<br>alignment.horz = xlwt.Alignment.HORZ_CENTER  <span class="hljs-comment">#居中对齐(垂直方向上)</span><br> <span class="hljs-string">&#x27;&#x27;&#x27;May be:</span><br><span class="hljs-string">	HORZ_GENERAL, HORZ_LEFT, HORZ_CENTER, HORZ_RIGHT,</span><br><span class="hljs-string">	HORZ_FILLED, HORZ_JUSTIFIED,</span><br><span class="hljs-string">	HORZ_CENTER_ACROSS_SEL, HORZ_DISTRIBUTED&#x27;&#x27;&#x27;</span><br>alignment.vert = xlwt.Alignment.VERT_CENTER  <span class="hljs-comment">#居中对齐(水平方向上)</span><br> <span class="hljs-string">&#x27;&#x27;&#x27;May be:</span><br><span class="hljs-string">	VERT_TOP, VERT_CENTER, VERT_BOTTOM,</span><br><span class="hljs-string">	VERT_JUSTIFIED, VERT_DISTRIBUTED&#x27;&#x27;&#x27;</span><br>style = xlwt.XFStyle() <span class="hljs-comment">#初始化样式</span><br>style.alignment = alignment<br><br>worksheet.write(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-string">&#x27;文本居中&#x27;</span>，style)<br><br>VERT_TOP			上端对齐<br>VERT_CENTER			居中对齐（垂直方向上）<br>VERT_BOTTOM			低端对齐<br>HORZ_LEFT			左端对齐<br>HORZ_CENTER			居中对齐（水平方向上）<br>HORZ_RIGHT			右端对齐<br></code></pre></td></tr></table></figure>

<p>8、为单元格添加边框</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> xlwt<br>workbook = xlwt.Workbook()<br>worksheet = workbook.add_sheet(<span class="hljs-string">&#x27;My Sheet&#x27;</span>)<br>borders = xlwt.Borders() <span class="hljs-comment"># Create Borders</span><br>borders.left = xlwt.Borders.THIN<br><span class="hljs-comment"># DASHED虚线</span><br><span class="hljs-comment"># NO_LINE没有</span><br><span class="hljs-comment"># THIN实线</span><br> <span class="hljs-string">&#x27;&#x27;&#x27;May be: </span><br><span class="hljs-string">	NO_LINE, THIN, MEDIUM, DASHED, DOTTED,THICK, </span><br><span class="hljs-string">	DOUBLE, HAIR, MEDIUM_DASHED,THIN_DASH_DOTTED,</span><br><span class="hljs-string">    MEDIUM_DASH_DOTTED,THIN_DASH_DOT_DOTTED, </span><br><span class="hljs-string">    MEDIUM_DASH_DOT_DOTTED,SLANTED_MEDIUM_DASH_DOTTED, </span><br><span class="hljs-string">    or 0x00 through 0x0D.&#x27;&#x27;&#x27;</span><br>borders.right = xlwt.Borders.THIN<br>borders.top = xlwt.Borders.THIN<br>borders.bottom = xlwt.Borders.THIN<br>borders.left_colour = <span class="hljs-number">0x40</span><br>borders.right_colour = <span class="hljs-number">0x40</span><br>borders.top_colour = <span class="hljs-number">0x40</span><br>borders.bottom_colour = <span class="hljs-number">0x40</span><br>style = xlwt.XFStyle() <span class="hljs-comment"># Create Style</span><br>style.borders = borders <span class="hljs-comment"># Add Borders to Style</span><br>worksheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Cell Contents&#x27;</span>, style)<br>workbook.save(<span class="hljs-string">&#x27;Excel_Workbook.xls&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>9、为单元格设置背景色</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> xlwt<br>workbook = xlwt.Workbook()<br>worksheet = workbook.add_sheet(<span class="hljs-string">&#x27;MY Sheet&#x27;</span>)<br>pattern = xlwt.Pattern()<br>pattern.pattern = xlwt.Pattern.SOLID_PATTERN<br>   <span class="hljs-comment"># May be:NO_PATTERN, SOLID_PATTERN, or 0x00 through 0x12</span><br>pattern.pattern_fore_colour = <span class="hljs-number">5</span><br><span class="hljs-string">&#x27;&#x27;&#x27; May be: 8 through 63. </span><br><span class="hljs-string">	0 = Black, 1 = White, 2 = Red, 3 = Green, 4 = Blue, </span><br><span class="hljs-string">	5 = Yellow, 6 = Magenta, 7 = Cyan, 16 = Maroon, </span><br><span class="hljs-string">	17 = Dark Green, 18 = Dark Blue, 19 = Dark Yellow ,</span><br><span class="hljs-string"> 	almost brown), 20 = Dark Magenta, 21 = Teal, </span><br><span class="hljs-string">	22 = Light Gray, 23 = Dark Gray, the list goes on...&#x27;&#x27;&#x27;</span><br>style = xlwt.XFStyle()<br>style.pattern = pattern<br>worksheet.write(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-string">&#x27;颜色&#x27;</span>，style)<br>workbooksave(<span class="hljs-string">&#x27;Excel_Workbook.xls&#x27;</span>)<br></code></pre></td></tr></table></figure>

<h3 id="读操作-1"><a href="#读操作-1" class="headerlink" title="读操作"></a>读操作</h3><h4 id="基本流程-1"><a href="#基本流程-1" class="headerlink" title="基本流程"></a>基本流程</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span>、导入模块<br>	<span class="hljs-keyword">import</span> xlrd<br><span class="hljs-number">2</span>、打开Excel文件读取数据<br>	data = xlrd.open_workbook(<span class="hljs-string">&#x27;Excel_test.xls&#x27;</span>) <br><span class="hljs-number">3</span>、 获取一个工作表<br>	table_sheet = data.sheets()[<span class="hljs-number">0</span>] <span class="hljs-comment">#通过索引顺序获取</span><br><span class="hljs-number">4</span>、获取单元格内容，三种方式都是同一个单元格。<br>	<span class="hljs-built_in">print</span>(table_sheet.cell(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>).value)<br>	<span class="hljs-built_in">print</span>(table_sheet.cell_value(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>) )<br>	<span class="hljs-built_in">print</span>(table_sheet.row(<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>].value )<br><span class="hljs-number">5</span>、 获取行数和列数<br>	nrows = table_sheet.nrows<br>	ncols = table_sheet.ncols<br><span class="hljs-comment"># 循环行列表数据</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(nrows ):		<span class="hljs-comment">#获取所有数据</span><br>	<span class="hljs-built_in">print</span>(table_sheet.row_values(i))<br></code></pre></td></tr></table></figure>

<h4 id="优化操作-1"><a href="#优化操作-1" class="headerlink" title="优化操作"></a>优化操作</h4><p>1、打开excel文件获取所有sheet</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure>





<h2 id="CSV读写"><a href="#CSV读写" class="headerlink" title="CSV读写"></a>CSV读写</h2><p>CSV文件： 逗号分隔值（Comma-Separated Values，CSV，有时也称为字符分隔值，因为分隔字符也可以不是逗号），<br>其文件以纯文本形式存储表格数据（数字和文本）</p>
<h3 id="写CSV文件"><a href="#写CSV文件" class="headerlink" title="写CSV文件"></a>写CSV文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span>、首先导入CSV模块<br>	<span class="hljs-keyword">import</span> csv<br><span class="hljs-number">2</span>、创建一个CSV文件对象<br>	f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;222.csv&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>)<br><span class="hljs-number">3</span>、进行写入CSV文件<br>	writer = csv.writer(f) <span class="hljs-comment"># 转化为写的对象</span><br></code></pre></td></tr></table></figure>

<p>eg.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">import</span> codecs<br>data = [<br> (<span class="hljs-string">&quot;测试1&quot;</span>,<span class="hljs-string">&#x27;软件工程师1&#x27;</span>),<br> (<span class="hljs-string">&quot;测试2&quot;</span>,<span class="hljs-string">&#x27;软件工程师2&#x27;</span>),<br> (<span class="hljs-string">&quot;测试3&quot;</span>,<span class="hljs-string">&#x27;软件工程师3&#x27;</span>),<br> (<span class="hljs-string">&quot;测试4&quot;</span>,<span class="hljs-string">&#x27;软件工程师4&#x27;</span>),<br> (<span class="hljs-string">&quot;测试5&quot;</span>,<span class="hljs-string">&#x27;软件工程师5&#x27;</span>),<br>]<br>f = codecs.<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;111.csv&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>,<span class="hljs-string">&quot;gbk&quot;</span>) <span class="hljs-comment">#gbk 指定编码解决汉字乱码问题</span><br>writer = csv.writer(f)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> data:<br> 	writer.writerow(i)<br>f.close()<br><br></code></pre></td></tr></table></figure>

<h3 id="读CSV文件"><a href="#读CSV文件" class="headerlink" title="读CSV文件"></a>读CSV文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span>、首先导入CSV模块 <br>	<span class="hljs-keyword">import</span> csv<br><span class="hljs-number">2</span>、创建一个CSV文件对象 <br>	f =csv.reader(<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;1111.csv&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>))<br><span class="hljs-number">3</span>、打开文件进行读取<br>	<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> f: <span class="hljs-built_in">print</span>(i)<br></code></pre></td></tr></table></figure>

<p>eg.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> csv<br>rd = csv.reader(<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;111.csv&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>))<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> rd:<br>	<span class="hljs-built_in">print</span>(i)<br></code></pre></td></tr></table></figure>

<h3 id="其他用法"><a href="#其他用法" class="headerlink" title="其他用法"></a>其他用法</h3><p>字典形式储存</p>
<p>写操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">import</span> codecs<br>data = &#123;<span class="hljs-string">&#x27;id&#x27;</span>:<span class="hljs-string">&#x27;123&#x27;</span>,<span class="hljs-string">&#x27;name&#x27;</span>:<span class="hljs-string">&#x27;张三&#x27;</span>,<span class="hljs-string">&#x27;age&#x27;</span>:<span class="hljs-string">&#x27;26&#x27;</span>&#125;<br><span class="hljs-comment"># with open(&#x27;222.csv&#x27;,&#x27;w&#x27;)as f:</span><br><span class="hljs-keyword">with</span> codecs.<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;222.csv&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>,<span class="hljs-string">&quot;gbk&quot;</span>)<span class="hljs-keyword">as</span> f:<br> fieldnames = &#123;<span class="hljs-string">&#x27;id&#x27;</span>,<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;age&#x27;</span>&#125; <span class="hljs-comment"># 表头</span><br> writer = csv.DictWriter(f,fieldnames=fieldnames)<br> writer.writeheader()	<span class="hljs-comment">#先写key</span><br> writer.writerow(data)  <span class="hljs-comment">#再写value</span><br></code></pre></td></tr></table></figure>

<p>读操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> csv<br>f1 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;222.csv&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>)<br>reader = csv.DictReader(f1)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> reader:<br> 	<span class="hljs-built_in">print</span>(i)<br>f1.close()<br></code></pre></td></tr></table></figure>

<p>官方手册：</p>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/library/csv.html">https://docs.python.org/zh-cn/3/library/csv.html</a></p>
<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><p>代码有异常发生，程序会在该位置终止，无法判断异常后面的代码是否正确</p>
<p>异常处理框架：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>：<br>	正常代码块<br><span class="hljs-keyword">except</span>：错误号：<br>	异常处理代码 <span class="hljs-comment">#（遇到对应错误号异常执行这里的代码）</span><br><span class="hljs-keyword">finally</span>：<br>	无论如何都会被执行的代码<br></code></pre></td></tr></table></figure>

<p>错误号：<br>1、将没加异常时候的错误号记录下来，再添加异常处理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">先编写上面有异常的代码，执行一次发生异常得到异常号。<br>FileNotFoundError<br>按照异常添加框架修改如下:<br><span class="hljs-keyword">try</span>:<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;nihao......1&quot;</span>)<br>	f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;123.txt&quot;</span>,<span class="hljs-string">&quot;rb&quot;</span>)<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;nihao .....2&quot;</span>)<br><span class="hljs-keyword">except</span> FileNotFoundError: <span class="hljs-comment">#就是异常号判断位置</span><br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;file open error&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>2、将多个不同的异常都用()包括然后之间用逗号“ ， ”隔开</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(x)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;nihao......1&quot;</span>)<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;123.txt&quot;</span>,<span class="hljs-string">&quot;rb&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;nihao .....2&quot;</span>)<br><span class="hljs-keyword">except</span> (FileNotFoundError,NameError): <span class="hljs-comment">#多个不同异常的捕获</span><br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x or file error&quot;</span><br></code></pre></td></tr></table></figure>

<p>3、将未知的所有异常信息都统一用 Exception来捕获</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    a = <span class="hljs-number">10</span><br>    b = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;输入数字&quot;</span>))<br>    <span class="hljs-built_in">print</span>(a//b)<br>    <span class="hljs-built_in">print</span>(x)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;nihao......1&quot;</span>)<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;123.txt&quot;</span>,<span class="hljs-string">&quot;rb&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;nihao .....2&quot;</span>)<br><span class="hljs-keyword">except</span> Exception: <span class="hljs-comment">#所有异常都统一捕获</span><br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;all error&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>4、使用异常as 操作可以将实际错误信息都打印出来</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    a = <span class="hljs-number">10</span><br>    b = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;输入数字&quot;</span>))<br>    <span class="hljs-built_in">print</span>(a/b)<br>    <span class="hljs-built_in">print</span>(x)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;nihao......1&quot;</span>)<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;123.txt&quot;</span>,<span class="hljs-string">&quot;rb&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;nihao .....2&quot;</span>)<br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> error: <span class="hljs-comment">#各种情况都可能发生</span><br>	<span class="hljs-built_in">print</span>(error) <span class="hljs-comment">#将真实的错误信息直接输出</span><br></code></pre></td></tr></table></figure>

<p>5、finally的作用与使用，如果存在finally子句，则该finally子句 将作为try语句完成之前的最后一项任务执行。</p>
<p>finally无论该try语句是否产生 异常该子句都会运行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test1</span>():<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I&#x27;m in while loop&quot;</span>)<br>    <span class="hljs-keyword">try</span>:<br>   		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I&#x27;m in try&quot;</span>)<br>   		<span class="hljs-keyword">raise</span> EOFError <span class="hljs-comment">#自己触发异常并抛出</span><br>	<span class="hljs-keyword">except</span> IOError:<br>		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;IOEoor&quot;</span>)<br>	<span class="hljs-keyword">finally</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I&#x27;m in finally&quot;</span>)<br>        <span class="hljs-keyword">break</span> <span class="hljs-comment">#屏蔽掉会显示try中异常，否则不显示</span><br>test1()<br><br><span class="hljs-string">&#x27;&#x27;&#x27;注意：</span><br><span class="hljs-string">如果异常处理中存在finally，finally总会被执行。</span><br><span class="hljs-string">那么在执行finally之前，try中的产生的异常将会被临时保存起来，当finally的代码执行完成后,再抛出异常。</span><br><span class="hljs-string">但当finally中存在raise或return或break时，try中的异常将会被抛弃</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test2</span>(<span class="hljs-params">index</span>):<br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I&#x27;m in try&quot;</span>)<br>        <span class="hljs-keyword">if</span> index &lt; <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">raise</span> IndexError<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> index<br>    <span class="hljs-keyword">except</span> IndexError:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I&#x27;m in except&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;except&quot;</span><br>    <span class="hljs-keyword">finally</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I&#x27;m in finally&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;finally&quot;</span><span class="hljs-comment">#屏蔽掉是返回try中return 否则返回这里return</span><br>    		<br> <br><span class="hljs-built_in">print</span>(test2(<span class="hljs-number">12</span>))<br></code></pre></td></tr></table></figure>

<p>注意：如果异常处理中存在finally， finally总会被执行。 </p>
<p>1、如果在try块语句中存在return的同时又存在finally块语句，<br>      那么将会在执行try块语句中return语句之前去执行finally语句块，<br>      然后再回来执行try块语句中return语句。</p>
<p> 2、 但是例子中在finally块语句中存在return语句，执行到这个return整个函数 已结束， 所以try块语句中return语句将永远得不到执行</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">异常：要加在基本IO操作上，人工输入（乱输），文件操作（文件权限不够）<br></code></pre></td></tr></table></figure>

<p>解决的问题：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">打开一个文件，不知道是否存在，加上<span class="hljs-keyword">finally</span>始终可以保证内容泄漏问题<br>但这种方法被<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span> 所取代了<br><br><span class="hljs-keyword">try</span>:<br>	f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;一个不存在的文件.txt&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>)<br>	<span class="hljs-built_in">print</span>(f.read())<br><span class="hljs-keyword">except</span> OSError <span class="hljs-keyword">as</span> reason:<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;出错啦！&#x27;</span>+ <span class="hljs-built_in">str</span>(reason))<br><span class="hljs-keyword">finally</span>:<br>	<span class="hljs-keyword">if</span> f <span class="hljs-keyword">in</span> <span class="hljs-built_in">locals</span>(): <span class="hljs-comment">#始终执行文件关闭操作，防止内存泄露</span><br> 	f.close()<br>或<br> <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;bilibili.txt&#x27;</span>) <span class="hljs-keyword">as</span> f:<br> lines = f.readlines()<br> <span class="hljs-built_in">print</span>(lines)<br><br></code></pre></td></tr></table></figure>

<h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><p>1、print</p>
<p>用 print 最大的坏处是将来还得删掉它,运行结果也会包含很多垃圾信息</p>
<p>2、pycharm的单步跟踪</p>
<ol>
<li><p>设置断点</p>
</li>
<li><p>Debug’xxx’调试代码</p>
</li>
<li><p>断点所在代码行变蓝，意味着Pycharm程序进程已经到达 断点处，但尚未执行断点所标记的代码</p>
</li>
<li><p>debug窗口几个图标分别代表的意思</p>
<img src="https://s2.loli.net/2024/02/24/jJGBa4hMrIyiTeb.png" srcset="/img/loading.gif" lazyload alt="image-20211107133436175" style="zoom: 67%;" />

<p>1.show execution point (F10) 显示当前所有断点<br>2.step over(F8) 单步调试。跳过函数 （一般跳过系统函数）<br>3.step into(F7) 单步调试。 进入函数 	（进入自己写的函数）<br>4.step into my code(Alt + Shift +F7) 执行下一行，但忽略libraries（导入库的语句）<br>5.force step into(Alt + Shift +F7) 执行下一行忽略lib和构造对象等<br>6.step out（Shift+F8）直接跳出子函数a，而不用继续执行子函数a中的剩余代码。<br>7.run to cursor(Alt +F9) 直接跳到下一个断点</p>
</li>
</ol>
<p>3、断言</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dart">- 凡是用 <span class="hljs-built_in">print</span> 来辅助查看的地方,都可以用断言(<span class="hljs-keyword">assert</span>)来替代;<br>- 如果断言失败, <span class="hljs-keyword">assert</span> 语句本身就会抛出 AssertionError(断言错误)<br>- 用于判断一个表达式，在表达式条件为 <span class="hljs-keyword">false</span> 的时候触发异常。<br>- Python 解释器执行时可以用 -O 参数来关闭 <span class="hljs-keyword">assert</span>,把所有的<span class="hljs-keyword">assert</span> 语句当成 pass<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">断言,<span class="hljs-keyword">assert</span> (你的预期),“如果没有达到预期 显示的内容”<br>eg:<br><span class="hljs-keyword">assert</span> a&gt;b, <span class="hljs-string">&#x27;error: b is bigger&#x27;</span><br></code></pre></td></tr></table></figure>



<p>4、 logging日志</p>
<p>需要导入logging模块</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">-<span class="hljs-built_in"> logging </span>不会抛出错误,而且可以输出到文件;<br>- logging.<span class="hljs-built_in">info</span>() 就可以输出一段文本到日志文件中。<br>- logging.basicConfig(<span class="hljs-attribute">level</span>=logging.INFO)指定记录信息的级别,<br>- 有<span class="hljs-built_in">debug</span> , <span class="hljs-built_in">info</span> , <span class="hljs-built_in">warning</span> , error等几个级别，<br>- 他们级别依次增大<span class="hljs-built_in">debug</span> &lt; <span class="hljs-built_in">info</span> &lt; warn &lt; <span class="hljs-built_in">error</span> &lt;critical<br></code></pre></td></tr></table></figure>

<p>默认情况下不显示info级别的错误日志，只显示warn及warn以上的错误日志</p>
<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><p>基础</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs gcode"><span class="hljs-number">1</span>、面向du面向对象是种编程方式， 此编程方式的实现是基于对 类和对象的使用<br><span class="hljs-number">2</span>、类是一个模板，模板中包装了多个“函数”供使用<span class="hljs-comment">(可以将多函数中公用的变量封装到对象中)</span><br><span class="hljs-number">3</span>、对象，根据模板创建的实例<span class="hljs-comment">(即:对象)</span>，实例用于调用被包装在类中的函数<br><span class="hljs-number">4</span>、面向对象三大特性:封装、继承和多态==》重载	<br>	重置是实现多态性的手段，不是面向对象的特性<br></code></pre></td></tr></table></figure>

<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><h3 id="类的定义"><a href="#类的定义" class="headerlink" title="类的定义"></a>类的定义</h3><p>类的定义 &#x3D; 类的封装</p>
<p>语法格式</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">class</span> <span class="hljs-symbol">ClassName:</span><br><span class="hljs-symbol">	</span>属性名 = 属性值<br>	<span class="hljs-symbol">def</span> 方法名(<span class="hljs-symbol">self</span>):<br>		方法体<br></code></pre></td></tr></table></figure>

<p>eg.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>	i = <span class="hljs-number">1234</span> 	<span class="hljs-comment">#类变量，属于属性,可以直接用类调用，或用实例对象调用</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_init_</span>(<span class="hljs-params">self,x,y</span>): 	<span class="hljs-comment">#构造函数</span><br>        self.x = x	<br>        self.y = y	<span class="hljs-comment">#实例变量，属于属性,需要它是在类的构造函数内以						 self.开头来定义的</span><br>	<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">self</span>):  <span class="hljs-comment">#自定函数，属于方法,默认传递self参数</span><br>        a = <span class="hljs-number">100</span>   <span class="hljs-comment">#实例变量</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello world %d&quot;</span>% a)<br>	        <br></code></pre></td></tr></table></figure>

<p>实例化类  —》对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">x = MyClass() <span class="hljs-comment">#调用构造函数</span><br></code></pre></td></tr></table></figure>

<p>访问类的属性和方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">通过实例来访问：<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;MyClass 类的属性 i 为：&quot;</span>, x.i)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;MyClass 类的方法 f 输出为：&quot;</span>, x.f())<br><br>通过类来访问：<br><span class="hljs-built_in">print</span>(MyClass.i)	<br></code></pre></td></tr></table></figure>

<p>类变量可以通过 “类名.变量名” 和 “实例名.变量名” 的方式访问。<br>实例变量只能通过“ 实例名.变量名”的方式来访问</p>
<h3 id="类的构造与初始化"><a href="#类的构造与初始化" class="headerlink" title="类的构造与初始化"></a>类的构造与初始化</h3><p>构造函数 _<em>init__() &#x3D;&#x3D;》对象创建时候自动调用  &#x3D;&#x3D;》 建议使用<br>析构函数 <em>_del</em></em>() &#x3D;&#x3D;》对象消亡的时候自动调用 &#x3D;&#x3D;》不建议使用</p>
<p><em>_init</em>_()要点如下：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-number">1</span>.名称固定，必须为<span class="hljs-built_in">__init__</span>(self)<br><span class="hljs-number">2</span>.第一个参数固定，必须为self。self指的就是刚刚创建好的实例对象。<br><span class="hljs-number">3</span>.构造函数通常用来初始化实例属性。<br><span class="hljs-number">4</span>.通过类名(参数列表)，来调用构造函数,调用后,将创建好的对象返回给相应的变量<br><span class="hljs-number">5</span><span class="hljs-selector-class">.__init__</span>()方法：初始化创建好的对象，初始化指的是：&quot;给实例属性赋值&quot;<br><span class="hljs-number">6</span><span class="hljs-selector-class">.__new__</span>()方法：用于创建对象，但我们一般无需定义该方法。<br><span class="hljs-number">7</span><span class="hljs-selector-class">.__init__</span>() 方法可以有参数，参数通过 <span class="hljs-built_in">__init__</span>() 传递到类的实例属性上<br></code></pre></td></tr></table></figure>



<h3 id="类的方法"><a href="#类的方法" class="headerlink" title="类的方法"></a>类的方法</h3><h4 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h4><p>在类的内部，使用 def 关键字来定义一个(函数)方法，与一般函数定义不同，<br>类方法必须包含参数 self, 且为第一个参数，self 代表的是类的实例对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">people</span>：<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,n,a</span>):<br>		self.name = n<br>		self.age = a<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">self</span>):	<span class="hljs-comment">#实例方法：不能通过类来访问</span><br>		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%s 说：我 %d岁&quot;</span>% self.name,self.age)<br>p = people(<span class="hljs-string">&#x27;xiaoming&#x27;</span>,<span class="hljs-number">18</span>)<br>p.speak()<br></code></pre></td></tr></table></figure>



<h4 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@staticmethod</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">静态方法名</span>():	<br>	<span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">静态方法需要使用修饰器 @<span class="hljs-built_in">staticmethod</span> 来标识，告诉解释器这是一个静态方法。<br>静态方法不需要使用self 或 cls 可以通过<span class="hljs-string">&#x27;类名.静态方法名&#x27;</span> 的方式调用静态方法<br>无需将类实例化，直接通过“类名.方法名（）”方式调用方法<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>():<br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>():		<span class="hljs-comment">#可以通过 类名 或者实例对象来调用</span><br>    	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;喜欢吃&quot;</span>)<br>Person.eat()<br></code></pre></td></tr></table></figure>



<h4 id="类方法"><a href="#类方法" class="headerlink" title="类方法"></a>类方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@classmethod</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">类方法名</span>(<span class="hljs-params">cls</span>):		<span class="hljs-comment">#可以通过 类名 或者实例对象来访问</span><br>	<span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>

<p>类方法和实例方法：</p>
<ol>
<li><p>相同点：<br>类方法至少也要包含一个参数，通常命名为cls</p>
<p>在调用类方法时，无需显示为 cls参数 传参，但传递的不是实例对象，而是类对象本身（类名）？？？</p>
</li>
<li><p>不同点 </p>
<p>最大的不同在于需要使用 @classmethod 装饰器才能称为类方法</p>
</li>
</ol>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python">类属性<br>	声明在类内部，方法外部，可以通过类或者对象进行访问，但只能通过类进行修改<br>类方法<br>	定义在类内部，用@<span class="hljs-built_in">classmethod</span>修饰的方法。默认第一个参数cls代表类本身。<br>	类方法可以通过<span class="hljs-string">&#x27;类和对象&#x27;</span>调用<br><br>实例属性<br>	在方法内部声明的属性，可以访问，修改，动态添加。<br>	实例属性<span class="hljs-string">&#x27;只能通过对象&#x27;</span>调用。<br>实例方法<br>定义在类内部，用self作为第一个形参，就是普通意义上的内部函数。<br>	实例方法<span class="hljs-string">&#x27;只能通过对象&#x27;</span>调用。<br><br>静态方法 <br>	定义在类的内部，用@<span class="hljs-built_in">staticmethod</span>修饰的方法，没有默认参数，<br>	适用于与类无关的操作，后者无需使用类成员的操作，常见与工具类中。<br>	静态方法内部不能直接访问属性和方法，但可以使用类名间接访问。<br><br><span class="hljs-comment">#1.默认情况下，在类中定义的函数就是绑定方法</span><br><span class="hljs-comment">#2.当用对象本身来调用类中的方法时，默认会把对象本身作为参数传入方法中。</span><br><span class="hljs-string">&#x27;而用类名调用时则需要传入参数（对象）&#x27;</span><br></code></pre></td></tr></table></figure>



<h3 id="类的访问权限"><a href="#类的访问权限" class="headerlink" title="类的访问权限"></a>类的访问权限</h3><p>在Python中</p>
<p>默认上对象的属性和方法都是公开的，可以通过点操作符( . )来进行访问</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,name,score</span>):<br> 		self.name = name<br> 		self.score = score<br>        self.__sex = <span class="hljs-string">&#x27;男&#x27;</span>	<span class="hljs-comment">#私有变量</span><br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_information</span>(<span class="hljs-params">self</span>):<br> 		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;学生：%s,分数为：%s&quot;</span> %(self.name ,self.score)) <br> 		<span class="hljs-comment">#类中访问实例变量通过 self.属性名</span><br><br>person = Student(<span class="hljs-string">&quot;小明&quot;</span>,<span class="hljs-string">&quot;95&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;修改前的属性名：&quot;</span>,person.score) <br>	<span class="hljs-comment">#类外访问实例变量通过 实例名.属性名</span><br>person.get_information()<br><br>person.score = <span class="hljs-number">0</span> <span class="hljs-comment">#通过实例名.属性名修改实例变量的值</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;修改后的属性名：&quot;</span>,person.score)<br>person.get_information()<br></code></pre></td></tr></table></figure>

<h4 id="私有变量"><a href="#私有变量" class="headerlink" title="私有变量"></a>私有变量</h4><p>私有变量，只由内部可以访问，类的外部不能访问 </p>
<p>要让内部属性不被外部访问可以在属性名称前加两个下划线 ( __ )</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,name,score</span>):<br>        self.__name = name<br>        self.__score = score<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_information</span>(<span class="hljs-params">self</span>):<br>		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;学生：%s,分数为：%s&quot;</span> %(self.__name ,self.__score))<br><br>person = Student(<span class="hljs-string">&quot;小明&quot;</span>,<span class="hljs-string">&quot;95&quot;</span>) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;修改前的属性名：&quot;</span>,person.__score) <span class="hljs-comment">#在类的外部访问私有属性</span><br>	访问会失败<br></code></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">“单下划线” 开始的成员变量叫做<span class="hljs-string">&#x27;保护变量&#x27;</span>，意思是只有类对象和子类对象自己能访问到这些变量；<br>“双下划线” 开始的是<span class="hljs-string">&#x27;私有成员&#x27;</span>，意思是只有类对象自己能访问，连子类对象也不能访问到这个数据。<br></code></pre></td></tr></table></figure>



<p>1、将变量定义为私有变量，可以确保外部代码不能随意修改对象内部的状态，通过访问限制的保护，代码更加安全.<br>2、若在类外部直接修改私有变量的值，是不会影响到最终实例(私有)变量的值<br>3、访问私有属性和方法的方式（通过_类名__私有（属性或方法））</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">person._Student__scor <span class="hljs-comment"># 间接访问  (可以强制修改)</span><br><span class="hljs-comment"># 这种方式会破坏类的封装性</span><br></code></pre></td></tr></table></figure>



<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>派生&#x2F;继承&#x2F;继承结构<br>    1、派生描述了子类衍生出新的特性,新类保留已存类类型中所有需要的数据和行为,但允许修改或者其它的自定义操作,都不会修改原类的定义。</p>
<p>​	2、继承描述了子类属性从祖先类继承这样一种方式</p>
<p>​	3、继承结构表示多“代”派生,可以述成一个“族谱”,连续的子类,与祖先类都有关系</p>
<h3 id="单继承"><a href="#单继承" class="headerlink" title="单继承"></a>单继承</h3><p>父类也叫基类，子类也叫派生类，一个父类多个子类</p>
<p>继承类书写格式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">子类</span>(<span class="hljs-title class_ inherited__">父类</span>):<br>	子类方法<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>:<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;吃&quot;</span>)<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">drink</span>(<span class="hljs-params">self</span>):<br>		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;喝&quot;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-title class_ inherited__">Animal</span>):		<span class="hljs-comment">#默认会继承父类所有属性和方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">drak</span>(<span class="hljs-params">self</span>):<br>		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;叫&quot;</span>)<br>a = Animal()<br>a.eat() 	<span class="hljs-comment">#父类调用自己的方法</span><br><br>b = Dog()<br>b.eat() 	<span class="hljs-comment">#通过子类调用父类方法</span><br>b.drak() 	<span class="hljs-comment">#子类调用子类方法</span><br></code></pre></td></tr></table></figure>

<p>孙类是可以继承爷爷类的，线性，无限制</p>
<p>2.重写</p>
<p>子类和父类中拥有方法名相同的方法，说明子类重写了父类的方法 </p>
<p>重写的作用： 父类中已经有了这个方法，但子类想修改里面的内容，<br>                        直接修改父类是不好的，就需要用到重写</p>
<p>#与上级任意环节重名都会重写方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params">self</span>):<br>    	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---吃-----&quot;</span>)<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">drink</span>(<span class="hljs-params">self</span>):<br>    	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----喝-----&quot;</span>)<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-params">self</span>):<br>    	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----睡觉-----&quot;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-title class_ inherited__">Animal</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bark</span>(<span class="hljs-params">self</span>):<br>    	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---汪汪叫----&quot;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Xiaotq</span>(<span class="hljs-title class_ inherited__">Dog</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fly</span>(<span class="hljs-params">self</span>):<br>    	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----飞-----&quot;</span>)<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bark</span>(<span class="hljs-params">self</span>):<br>    	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----狂叫-----&quot;</span>)<br><br>chen = Xiaotq()<br>chen.fly()<br>chen.bark()<br>chen.eat()<br><br><br></code></pre></td></tr></table></figure>

<h4 id="调用父类方法"><a href="#调用父类方法" class="headerlink" title="调用父类方法"></a>调用父类方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">子类调用父类被重写之前的方法:<br><span class="hljs-number">1.</span>普通方法（明确指定）<span class="hljs-comment">#可移植性差</span><br>Dog.bark(self = chen) <span class="hljs-comment">#调用父类被重写的方法</span><br><span class="hljs-number">2.</span><span class="hljs-string">&#x27;通过super关键字也可以间接调用&#x27;</span><br><span class="hljs-built_in">super</span>(Xiaotq,chen).bark()<br>		<span class="hljs-comment"># super() 函数是用于调用父类(超类)的一个方法</span><br><br>对于<span class="hljs-string">&quot;super(子类名，子类对象).父类被重写方法  可以理解为：</span><br><span class="hljs-string">先找到子类的&#x27;父类&#x27;,然后调用父类的方法，同时将子类的实例传递给父类方法</span><br></code></pre></td></tr></table></figure>



<h3 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h3><p>一个子类多个父类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">子类</span>(父类<span class="hljs-number">1</span>,父类<span class="hljs-number">2</span>):<br>	子类方法<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>(A,B): 	<span class="hljs-comment">#多继承的时候，每个基类用 , 号隔开。</span><br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">fun_c</span>(<span class="hljs-params">self</span>):<br> 		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我是C类&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>多重继承中，同名方法按照继承次序有效  	C(B,A)先继承A</p>
<p>特例菱形继承：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>(<span class="hljs-title class_ inherited__">object</span>): 	<span class="hljs-comment">#object是python默认最大的类</span><br> 	<span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">self</span>):<br> 	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----Base&quot;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>(<span class="hljs-title class_ inherited__">Base</span>):<br> 	<span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">self</span>):<br> 	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----A&quot;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>(<span class="hljs-title class_ inherited__">Base</span>):<br>     <span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">self</span>):<br> 	 <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----B&quot;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>(A, B): <span class="hljs-comment"># 父类重写的方法按照继承顺序依次重写，默认是第一个匹配</span><br> 	<span class="hljs-comment"># def test(self):</span><br> 		<span class="hljs-comment"># print(&quot;-----C&quot;)</span><br>        <br>c = C()<br><span class="hljs-built_in">print</span>(子类类名.__mro__)<span class="hljs-comment">#查看子类的继承顺序</span><br></code></pre></td></tr></table></figure>

<h4 id="钻石继承"><a href="#钻石继承" class="headerlink" title="钻石继承"></a>钻石继承</h4><p>尽可能能的避免多重继承</p>
<p>从技术上来说，在python3的所有多重继承都是钻石继承(菱形继承），因为所有的类都从object继承</p>
<p>一个例子，我们有一个基类，该基类有一个call_me方法，<br>有两个子类重写了这个方法，<br>然后第3个类通过多重继承扩展了两个方法。这称为钻石继承(菱形继承)。</p>
<p>钻石继承场景，</p>
<p>使用普通继承，明确指定父类：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseClass</span>:<br>	num_base_calls = <span class="hljs-number">0</span><br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">call_me</span>(<span class="hljs-params">self</span>):<br>		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling method on Base Class&quot;</span>)<br>		self.num_base_calls += <span class="hljs-number">1</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LeftSubclass</span>(<span class="hljs-title class_ inherited__">BaseClass</span>):<br>    num_left_calls = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_me</span>(<span class="hljs-params">self</span>):<br>        BaseClass.call_me(self)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling method on Lef Subclass&quot;</span>)<br>        self.num_left_calls += <span class="hljs-number">1</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RightSubclass</span>(<span class="hljs-title class_ inherited__">BaseClass</span>):<br>    num_right_calls = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_me</span>(<span class="hljs-params">self</span>):<br>        BaseClass.call_me(self)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling method on Right Subclass&quot;</span>)<br>        self.num_right_calls += <span class="hljs-number">1</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Subclass</span>(LeftSubclass, RightSubclass):<br>    num_sub_calls = <span class="hljs-number">0</span><br><span class="hljs-comment">#如果不重写call_me方法,则孙类会直接继承LeftSubclass中call_me方法 </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_me</span>(<span class="hljs-params">self</span>):	<br>        LeftSubclass.call_me(self)	<br>        RightSubclass.call_me(self)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling method on Subcalss&quot;</span>)<br>        self.num_sub_calls += <span class="hljs-number">1</span><br> <br>s = Subclass()<br>s.call_me()<br><span class="hljs-built_in">print</span>(s.num_sub_calls, s.num_left_calls, s.num_right_calls,s.num_base_calls)<br><br>&gt;&gt;&gt;输出：<br>Calling method on Base Class<br>Calling method on Lef Subclass<br>Calling method on Base Class<br>Calling method on Right Subclass<br>Calling method on Subcalss<br><span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>

<p> 可以看到Baseclass被调用了两次，这是一个非常严重的bug</p>
<h5 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h5><p>C++中面对钻石问题，引入了虚基类，</p>
<p>LeftSubclass和RightSubclass虚拟继承BaseClass。当生成Subclass对象时，LeftSubclass和RightSubclass并不会自动调用虚拟基类BaseClass的构造函数，而需要由Subclass的构造函数显式调用BaseClass的构造函数。</p>
<p>Python则采用super()函数解决钻石继承：<br>将上述代码重写：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseClass</span>:<br>    num_base_calls = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_me</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling method on Base Class&quot;</span>)<br>        self.num_base_calls += <span class="hljs-number">1</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LeftSubclass</span>(<span class="hljs-title class_ inherited__">BaseClass</span>):<br>    num_left_calls = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_me</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().call_me()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling method on Lef Subclass&quot;</span>)<br>        self.num_left_calls += <span class="hljs-number">1</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RightSubclass</span>(<span class="hljs-title class_ inherited__">BaseClass</span>):<br>    num_right_calls = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_me</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().call_me()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling method on Right Subclass&quot;</span>)<br>        self.num_right_calls += <span class="hljs-number">1</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Subclass</span>(LeftSubclass, RightSubclass):<br>     num_sub_calls = <span class="hljs-number">0</span><br>     <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_me</span>(<span class="hljs-params">self</span>):<br>     <span class="hljs-built_in">super</span>().call_me()<br>     <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling method on Subcalss&quot;</span>)<br>     self.num_sub_calls += <span class="hljs-number">1</span><br> <br>s = Subclass()<br>s.call_me()<br><span class="hljs-built_in">print</span>(s.num_sub_calls, s.num_left_calls, s.num_right_calls,s.num_base_calls)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>输出<br>Calling method on Base Class<br>Calling method on Right Subclass<br>Calling method on Lef Subclass<br>Calling method on Subcalss<br><span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>解决了钻石继承</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">首先，Subclass的call_me方法调用了<span class="hljs-built_in">super</span>().call_me()，其实就是引用了 LeftSubclass.call_me()方法。<br>然后LeftSubclass.call_me()调用了 <span class="hljs-built_in">super</span>().call_me()，但是这时<span class="hljs-built_in">super</span>()引用了<span class="hljs-string">&#x27;RightSubclass.call_me()&#x27;</span>。 <br>需要特别注意：<span class="hljs-built_in">super</span>调用并不是调用LeftSubclass的超类（就是 BaseClass）的方法。 <br>它是调用RightSubclass，虽然它不是LeftSubclass的父类！<br>这就是<span class="hljs-string">&#x27;下一个方法&#x27;</span>，而不是父类方法。RightSubclass然后调用BaseClass，并且通过 <span class="hljs-built_in">super</span>调用保证在类的 层次结构中每一个方法都被执行一次<br></code></pre></td></tr></table></figure>

<h5 id="super"><a href="#super" class="headerlink" title="super"></a>super</h5><p>super采用了调用”下一个的方法”，要理解super的原理，就要先了解mro</p>
<p>super的内核：mro   </p>
<p>在python中，每个类都有一个mro的类方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">mro继承的顺序<br><span class="hljs-built_in">print</span>(子类类名.__mro__)<span class="hljs-comment">#查看子类的继承顺序</span><br><br><span class="hljs-built_in">print</span>(Subclass.__mro__)<br>(&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;__main__.Subclass&#x27;</span>&gt;, &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;__main__.LeftSubclass&#x27;</span>&gt;, &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;__main__.RightSubclass&#x27;</span>&gt;, &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;__main__.BaseClass&#x27;</span>&gt;, &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;object&#x27;</span>&gt;)<br><br>mro() 和 __mro__ 有什么区别 ???<br></code></pre></td></tr></table></figure>

<p>通过mro可以查看到子类的继承顺序，而super的下一个方法就是按照mro表，当前类的下一个继承类，所查找的</p>
<p>super的强悍之处：<br>1、在类的继承层次结构中，只想调用”下一个方法”，而不是父类的方法</p>
<p>2、super的目标就是解决复杂的多重继承问题（基类被调用两次的问题）</p>
<p>3、super是绝对的保证，在类的继承层次结构中每一个方法只被执行一次</p>
<p>参考连接：<a target="_blank" rel="noopener" href="http://www.cnblogs.com/testview/p/4651198.html?utm_source=tuicool&utm_medium=referral">http://www.cnblogs.com/testview/p/4651198.html?utm_source=tuicool&amp;utm_medium=referral</a></p>
<h4 id="经典类和新式类"><a href="#经典类和新式类" class="headerlink" title="经典类和新式类"></a>经典类和新式类</h4><p>所有 直接继承 或者 间接继承 object的类，都是新式类，<br>object称之为根类，意思时所有类都是源自object类</p>
<p>• 为什么这么设计？ </p>
<p>创建对象时，需要申请内存空间，创建新的名称空间，<br>将对象的属性放入名称空间， 这一复杂的基础操作都是由object完成的。<br>简单来说就是object 提供了一些常用的基础操作</p>
<p>注意： </p>
<p>1.在python3中，所有类都是object的子类，所有类都是新式类<br>2.在python2中，默认的是经典类，不会继承object</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">区别<br><span class="hljs-comment">#python2中定义类 经典类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cls</span>():<br> 	<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;python2中定义类&#x27;</span>)<br> <br><span class="hljs-comment">#python3中 新式类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cls</span>(<span class="hljs-title class_ inherited__">Object</span>):<br> 	<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;python3中定义类&#x27;</span>)<br></code></pre></td></tr></table></figure>

<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><p>定义时的类型和运行时的类型不一样，也就是定义时并不确定要调用的是哪个方法， 只有运行的时候才能确定调用的是哪个</p>
<p>多态特性 </p>
<p>多态性是指在不考虑实例类型的情况下使用实例，<br>多态性分为静态多态性和动态多态性</p>
<h3 id="动态多态性"><a href="#动态多态性" class="headerlink" title="动态多态性"></a>动态多态性</h3><p>1.基类中进行区分</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">H2O</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,name,temp</span>):<br>        self.name = name<br>        self.temp = temp<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">turn_ice</span>(<span class="hljs-params">self</span>):<br>            <span class="hljs-keyword">if</span> self.temp&lt;<span class="hljs-number">0</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[%s]水结成冰咯&quot;</span>%self.name)<br>            <span class="hljs-keyword">elif</span> self.temp&gt;=<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> self.temp&lt;<span class="hljs-number">100</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[%s]冰融化成水咯&quot;</span>%self.name)<br>            <span class="hljs-keyword">elif</span> self.temp&gt;=<span class="hljs-number">100</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[%s]水蒸发成气体咯&quot;</span>%self.name)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ice</span>(<span class="hljs-title class_ inherited__">H2O</span>):<br>    <span class="hljs-keyword">pass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Water</span>(<span class="hljs-title class_ inherited__">H2O</span>):<br>    <span class="hljs-keyword">pass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Steam</span>(<span class="hljs-title class_ inherited__">H2O</span>):<br>    <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">turn</span>(<span class="hljs-params">obj</span>):		<span class="hljs-comment">#类外函数</span><br>	obj.turn_ice() 	<span class="hljs-comment">#多态体现</span><br><br>ice = Ice(<span class="hljs-string">&quot;冰&quot;</span>,-<span class="hljs-number">40</span>)<br>water = Water(<span class="hljs-string">&quot;水&quot;</span>,<span class="hljs-number">40</span>)<br>steam = Steam(<span class="hljs-string">&quot;水蒸气&quot;</span>,<span class="hljs-number">1000</span>)<br><span class="hljs-comment">#多态的实现</span><br>turn(ice)<br>turn(water)<br>turn(steam)<br></code></pre></td></tr></table></figure>

<p>2.基于基类和子类进行区分（重写）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animals</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">talk</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Animals run...&quot;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pig</span>(<span class="hljs-title class_ inherited__">Animals</span>): <span class="hljs-comment"># 属于动物的另外一种形态：猪</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">talk</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Pig is huohuo&#x27;</span>)       <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">dog</span>(<span class="hljs-title class_ inherited__">Animals</span>):<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">talk</span>(<span class="hljs-params">self</span>):<br>		<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;dog is wangwang&quot;</span>)<br>        <br>p = Pig()<br>d = dog()<br><br><span class="hljs-comment"># 统一接口，对于使用者来说，自己的代码根本无需改动</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">obj</span>):<br>	obj.talk()<br> <br>func(p) <span class="hljs-comment"># 甚至连调用方式都无需改变，就能调用出pig的talk功能</span><br>func(d)<br></code></pre></td></tr></table></figure>



<h3 id="静态多态性"><a href="#静态多态性" class="headerlink" title="静态多态性"></a>静态多态性</h3><p>如任何类型都可以用运算符+进行运算<br>编译(解释)之初就根据数据类型做自动匹配</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">运算符重载是指赋予内置运算符新的功能,使内置运算符能适应更多的数据类型。<br>当定义一个类的时候，<br>如果这个类中重写了<span class="hljs-string">&#x27;python基类object内置的有关运算符的特殊方法&#x27;</span>，<br>那么该特殊方法对应的运算符将支持对该<span class="hljs-string">&#x27;类的实例&#x27;</span>进行运算<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Calculator</span>(<span class="hljs-title class_ inherited__">object</span>):<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, number</span>): <span class="hljs-comment"># 记录数值</span><br>		self.number = number<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>): <span class="hljs-comment"># 重载运算符+</span><br>		self.number = self.number + other<br>		<span class="hljs-keyword">return</span> self.number<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__sub__</span>(<span class="hljs-params">self, other</span>):<span class="hljs-comment"># 重载运算符-</span><br>		self.number = self.number - other<br>		<span class="hljs-keyword">return</span> self.number<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__mul__</span>(<span class="hljs-params">self,other</span>):<span class="hljs-comment">#重载运算符*</span><br>        self.number = self.number * other<br>        <span class="hljs-keyword">return</span> self.number<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__truediv__</span>(<span class="hljs-params">self,other</span>):<span class="hljs-comment">#重载运算符/</span><br>    	self.number = self.number / other<br>        <span class="hljs-keyword">return</span> self.number<br><br>calculator = Calculator(<span class="hljs-number">10</span>)<br><span class="hljs-built_in">print</span>(calculator + <span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(calculator - <span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(calculator * <span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(calculator / <span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure>

<p>基类object中提供的一些特殊方法及其对应的运算符如表所示。</p>
<img src="https://s2.loli.net/2024/02/24/FTScBZ9mgkVprbo.png" srcset="/img/loading.gif" lazyload alt="image-20211108203222925" style="zoom: 67%;" />

<p>好像只能使用表内的函数名进行重载</p>
<p>1、为什么要用多态性？<br>①增加了程序的灵活性。<br>    以不变应万变，不论对象千变万化，使用者都是同一种形式去调用，如func(animal)。<br>②增加了程序可扩展性。<br>通过继承animal类创建了一个新的类，使用者无需更改自己的代码，还是用func(animal)去调用</p>
<p>2、多态性的实现手段有哪些？优缺点？<br>① 动态多态性。执行过程中动态添加<br>② 静态多态性。编写代码中分类添加，执行时候类型匹配。</p>
<h2 id="动态特性"><a href="#动态特性" class="headerlink" title="动态特性"></a>动态特性</h2><p>动态语言</p>
<p>• 在运行时代码可以根据某些条件改变自身结构<br>• 可以在运行时引进新的函数、对象、甚至代码，可以删除已有的函数等其他结构上的变化<br>• 常见的动态语言：Object-C、C#、JavaScript、PHP、 Python、Erlang</p>
<p>动态类型语言 </p>
<p>• 在运行期间检查数据类型的语言<br>• 数据类型不是在编译阶段决定的，而是把类型绑定延后到了运 行阶段<br>• 常见的动态类型语言：Python、Ruby、Erlang、JavaScript、 swift、PHP、</p>
<p>强类型语言</p>
<p> • 一旦一个变量被指定了某个数据类型，如果不经过强制类型转 换，那么它就永远是这个数据类型<br> • 常见的强类型语言：Java、C#、Python、Object-C、Ruby</p>
<p>Python是动态语言，动态类型语言，也是强类型语言。<br>所以Python可以在运行时改变自身结构，动态添加&#x2F; 删除属性和方法。</p>
<h3 id="动态添加属性"><a href="#动态添加属性" class="headerlink" title="动态添加属性"></a>动态添加属性</h3><h4 id="添加对象属性"><a href="#添加对象属性" class="headerlink" title="添加对象属性"></a>添加对象属性</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Obj</span>(<span class="hljs-title class_ inherited__">object</span>):<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>		self.name = <span class="hljs-string">&#x27;chen&#x27;</span><br><br>obj = Obj()<br>obj.age = <span class="hljs-number">18</span><br><span class="hljs-built_in">print</span>(obj.age)	<span class="hljs-comment">#可以正常打印</span><br><br>obj2 = Obj()<br><span class="hljs-built_in">print</span>(obj2.age)	<span class="hljs-comment">#打印时报错</span><br><br><span class="hljs-comment">#通过[对象名.属性名]给类对象obj动态添加了对象属性age，</span><br>而Obj的另一个类对象obj2却不能调用这个属性。<br><span class="hljs-string">&#x27;注：通过对象名添加的对象属性，只有这个对象能使用&#x27;</span><br></code></pre></td></tr></table></figure>

<h4 id="添加类属性"><a href="#添加类属性" class="headerlink" title="添加类属性"></a>添加类属性</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">Obj.score = <span class="hljs-number">100</span><br><span class="hljs-built_in">print</span>(obj.score)<br><span class="hljs-built_in">print</span>(obj2.score)<br><br><span class="hljs-comment">#通过[类名.属性名]给类Obj动态添加了类属性score，</span><br>Obj的类对象obj和obj2都能调用这个属性<br><span class="hljs-string">&#x27;注：通过类名添加的类属性，这个类的所有对象都能使用&#x27;</span><br></code></pre></td></tr></table></figure>

<h4 id="动态添加方法"><a href="#动态添加方法" class="headerlink" title="动态添加方法"></a>动态添加方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> types<br><span class="hljs-comment">#定义了一个类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    num = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name = <span class="hljs-literal">None</span>, age = <span class="hljs-literal">None</span></span>):<br>        self.name = name<br>        self.age = age<br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;eat food&quot;</span>)<br><span class="hljs-comment">#类外定义</span><br><span class="hljs-comment">#定义一个实例方法</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self, speed</span>):<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%s在移动, 速度是 %d km/h&quot;</span>%(self.name, speed))<br><span class="hljs-comment">#定义一个类方法</span><br><span class="hljs-meta">@classmethod</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">testClass</span>(<span class="hljs-params">cls</span>):<br>	cls.num = <span class="hljs-number">100</span><br><span class="hljs-comment">#定义一个静态方法</span><br><span class="hljs-meta">@staticmethod</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">testStatic</span>():<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---static method----&quot;</span>)<br>    <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>	P = Person(<span class="hljs-string">&#x27;chen&#x27;</span>,<span class="hljs-number">18</span>) <span class="hljs-comment">#创建对象</span><br><br><span class="hljs-number">1.</span><br><span class="hljs-comment">#给这个对象动态添加实例方法</span><br>P.run = types.MethodType(run,P)<br>		<span class="hljs-comment">#MethodType可以把外部函数(方法)绑定到类或类的实例中</span><br>P.run(<span class="hljs-number">180</span>)<br><span class="hljs-number">2.</span><br><span class="hljs-comment">#给Person类绑定类方法</span><br>Penson.testClass = testClass<br><span class="hljs-comment">#调用类方法</span><br><span class="hljs-built_in">print</span>(Person.num)<br>Person.testClass()<br><span class="hljs-built_in">print</span>(Person.num)<br><span class="hljs-number">3.</span><br><span class="hljs-comment">#给Person类绑定静态方法</span><br>Person.testStaticXXX = testStatic<br><span class="hljs-comment">#调用静态方法</span><br>Person.testStaticXXX()	<span class="hljs-comment">#XXX表示可以自己起</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">给类添加方法，是使用<span class="hljs-string">&#x27;类名.方法名 = xxxx&#x27;</span><br>给对象添加一个方法也是<span class="hljs-string">&#x27;对象.方法名 =xxxx&#x27;</span><br></code></pre></td></tr></table></figure>



<h3 id="动态删除属性"><a href="#动态删除属性" class="headerlink" title="动态删除属性"></a>动态删除属性</h3><p>运行的过程中删除属性、方法删除的方法: </p>
<ol>
<li>del 对象.属性名 </li>
<li>delattr(对象, “属性名”)</li>
</ol>
<p>相对于动态语言，静态语言 具有严谨性！</p>
<h3 id="限制"><a href="#限制" class="headerlink" title="限制"></a>限制</h3><p>限制class的属性：使用 _<em>slots</em>_</p>
<p>Python允许在定义class的时候，定义一个特殊变量__slots__来 限制该class 能添加的属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Obj</span>(<span class="hljs-title class_ inherited__">object</span>):<br>  __slots__ = (<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>) <span class="hljs-comment">#限制创建的类对象只能有这两个属性</span><br><br>obj = Obj()<br>obj.name = <span class="hljs-string">&#x27;xiaoming&#x27;</span><br>obj.age = <span class="hljs-number">18</span><br>obj.score = <span class="hljs-number">99</span> <span class="hljs-comment">#动态添加对象属性失败 （没有属性）</span><br>	<span class="hljs-comment"># AttributeError: &#x27;Obj&#x27; object has no attribute&#x27;score&#x27;</span><br><br>Obj.score = <span class="hljs-number">100</span> <span class="hljs-comment">#给类添加属性成功</span><br><span class="hljs-built_in">print</span>(obj.score) <span class="hljs-comment"># 100</span><br>obj.score = <span class="hljs-number">99</span> <br>  <span class="hljs-comment"># AttributeError: &#x27;Obj&#x27; object attribute &#x27;score&#x27;is read-only</span><br>    (有了属性，但是权限只读)<br></code></pre></td></tr></table></figure>

<p>__slots__对Obj类的动态添加没有限制，<br>而 Obj类对象obj不能再动态添加对象属性和方法</p>
<p>注意：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">• __slots__只对类对象进行限制，不对类进行限制<br>• __slots__不仅限制类对象的属性，还限制类对象的方法<br>• __slots__仅对当前类起作用，对继承的子类不起作用<br>• 在子类中定义__slots__，子类允许定义的属性就是自身的__slots__加上父类的__slots__???	<span class="hljs-comment">#第四条待实验</span><br></code></pre></td></tr></table></figure>



<h2 id="深浅拷贝"><a href="#深浅拷贝" class="headerlink" title="深浅拷贝"></a>深浅拷贝</h2><p>• 直接赋值：其实就是对象的引用（别名）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">a = <span class="hljs-number">1</span><br>a = b 直接赋值<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(a),<span class="hljs-built_in">id</span>(b))	<span class="hljs-comment">#查看地址,a,b相同</span><br></code></pre></td></tr></table></figure>

<p>• 浅拷贝(copy)：拷贝父对象，不会拷贝对象的内部 的子对象。<br>• 深拷贝(deepcopy)：copy 模块的 deepcopy 方法,完全拷贝了父对象及其子对象</p>
<p>字典浅拷贝实例 需引入copy 模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> copy<br>a = &#123;<span class="hljs-number">1</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]&#125;<br>b = a.copy()<br><span class="hljs-built_in">print</span>(a,b)<br>&gt;&gt;&gt;(&#123;<span class="hljs-number">1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]&#125;, &#123;<span class="hljs-number">1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]&#125;)<br>a[<span class="hljs-number">1</span>].append(<span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span>(a,b)<br>&gt;&gt;&gt;(&#123;<span class="hljs-number">1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]&#125;, &#123;<span class="hljs-number">1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]&#125;)<br><span class="hljs-comment"># a添加后，b会同时更新</span><br>但是 a与b 的<span class="hljs-built_in">id</span>值不相同<br><br><span class="hljs-comment">#拷贝父对象，不会拷贝对象的内部的子对象，子对象还是指向相同地址</span><br></code></pre></td></tr></table></figure>

<p>字典深拷贝实例 需要引入 copy 模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> copy<br>b = copy.deepcopy(a)<br><span class="hljs-built_in">print</span>(a,b)<br>&gt;&gt;&gt;(&#123;<span class="hljs-number">1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]&#125;, &#123;<span class="hljs-number">1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]&#125;)<br>a[<span class="hljs-number">1</span>].append(<span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span>(a,b)<br>&gt;&gt;&gt;(&#123;<span class="hljs-number">1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]&#125;, &#123;<span class="hljs-number">1</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]&#125;)<br></code></pre></td></tr></table></figure>

<p>深浅拷贝还可用copy.copy（ 浅拷贝 ） 和（copy.deepcopy ）完成</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">c = copy.copy(a) <span class="hljs-comment"># 对象拷贝，浅拷贝</span><br>d = copy.deepcopy(a) <span class="hljs-comment"># 对象拷贝，深拷贝</span><br></code></pre></td></tr></table></figure>

<img src="https://s2.loli.net/2024/02/24/GVDwJTHcsYXqMSh.png" srcset="/img/loading.gif" lazyload alt="image-20211109192024329" style="zoom:67%;" />

<p><img src="https://s2.loli.net/2024/02/24/GVDwJTHcsYXqMSh.png" srcset="/img/loading.gif" lazyload alt="image-20211109192007976"></p>
<p><img src="https://s2.loli.net/2024/02/24/1qICLtQbZGrxiNM.png" srcset="/img/loading.gif" lazyload alt="image-20211109192104644"></p>
<p>以下操作会产生浅拷贝效果<br>• 使用切片[:]操作<br>• 使用工厂函数（如list&#x2F;dir&#x2F;set）<br>• 使用copy模块中的copy()函数</p>
<p>特殊：</p>
<p>• 对于非容器类型（如数字、字符串、和其他’原子’类型的对象）没有拷贝这一说 • 如果元祖变量只包含原子类型对象，则不能深拷贝.</p>
<p>总结：</p>
<p>•Python中对象的赋值都是进行对象引用（内存地址）传递<br>• 使用copy.copy()，可以进行对象的浅拷贝，它复制了对象，但对于对象中的元素， 依然使用原始的引用(内存地址)<br>• 如果需要复制一个容器对象，以及它里面的所有元素（包含元素的子元素）， 可以使用copy.deepcopy()进行深拷贝</p>
<p>注意：<br>如果元组变量只包含空列表类型对象，则不能深拷贝，(元组不能被修改)</p>
<p><a href="file:///D:/笔记/python/python/python--对象--深浅拷贝.pdf">python–对象–深浅拷贝.pdf</a>（具体实例，之后可看）</p>
<h2 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h2><h3 id="引用计数"><a href="#引用计数" class="headerlink" title="引用计数"></a>引用计数</h3><p>如果某个变量值绑定着变量名，就是一个正常的变量，如果该变量值没有绑定着 门牌号，这个变量就是一个垃圾变量，对于垃圾变量，Python会触发垃圾回收机制回收这个变量所占有的内存。进而可以想到，Python中一个变量名一 定只能对应一个变量值。 在这里我们就引出一个新的名词——引用计数</p>
<p>在python中定义了一个变量值为2021，他可以表示不同的变量，</p>
<p>一个变量名只能对应一个变量值，而一个变量值可以对应多个变量名</p>
<p>当相同变量值被赋予不同的变量名时，变量值每增加一个变量名的赋予，该变量值的引用计数加1<br>查看</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">通过sys模块中的getrefcount()查看引用计数，默认从<span class="hljs-number">3</span>开始<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-comment"># 引用计数初始值为3</span><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为3</span><br>year = <span class="hljs-number">2021</span><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为4</span><br>height = <span class="hljs-number">2021</span><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为5</span><br><br><span class="hljs-keyword">del</span> year <span class="hljs-comment">#删除变量值2021的一个变量名，引用计数减1</span><br>	<span class="hljs-comment">#手工触发回收机制</span><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为4</span><br></code></pre></td></tr></table></figure>

<p>更严谨的讲，只有当一个变量值每一次被直接 或 间接引用时，引用计数才会增加</p>
<p>在Python中引用计数增加方法</p>
<ol>
<li>变量被创建，变量值引用计数加1</li>
<li>变量被引用，变量值引用计数加1</li>
<li>变量作为参数传入到一个函数，变量值引用计数加2<br>（实参到形参一次，形参引用再一次）</li>
</ol>
<p>在Python减少引用计数的方法：</p>
<ol>
<li>变量值对应的变量名被销毁 </li>
<li>变量值对应的变量名被赋予新的值 </li>
<li>变量值对应的变量名离开它的作用域 </li>
<li>变量值对应的变量名的容器被销毁</li>
</ol>
<h3 id="垃圾回收机制"><a href="#垃圾回收机制" class="headerlink" title="垃圾回收机制"></a>垃圾回收机制</h3><p>getrefcount( )可以查看引用计数，当引用计数归0，也就是用getrefcount查看值又回到3时，则可以判断它触发了垃圾回收机制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为3</span><br>year = <span class="hljs-number">2021</span><br><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为4</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(year)) <span class="hljs-comment"># 输出4499932720</span><br><span class="hljs-built_in">print</span>(year) <span class="hljs-comment"># 输出2021</span><br>	<span class="hljs-comment">#自动垃圾回收</span><br>year = <span class="hljs-number">2022</span><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为3</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(year)) <span class="hljs-comment"># 输出4499932560</span><br><span class="hljs-built_in">print</span>(year) <span class="hljs-comment"># 输出2022</span><br></code></pre></td></tr></table></figure>

<p>那么是否可以证明只有当变量值2021的引用计数为0，时才能触发垃圾回收机制呢？ 而不是当变量值的变量名 被新的变量值引用了才会销毁呢？<br>因为变量值可以对应多个变量名？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为3</span><br>year = <span class="hljs-number">2021</span><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为4</span><br>height = <span class="hljs-number">2021</span><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为5</span><br>year = <span class="hljs-number">2022</span>	<span class="hljs-comment">#变量值的变量名被新的变量值</span><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为4</span><br><span class="hljs-keyword">del</span> height  <span class="hljs-comment">#删除变量值2021最后一个变量名，此时垃圾回收触发</span><br><span class="hljs-built_in">print</span>(sys.getrefcount(<span class="hljs-number">2021</span>)) <span class="hljs-comment"># 输出为3</span><br></code></pre></td></tr></table></figure>

<p>当定义一个变量后，该变量对应的变量值引用计数可以不断增加，<br>引用计数不为0，Python就一直还在内存中保留着这个变量值并且对其引用，<br>只有当该变量的引用计数为0时，<br>Python才会触发垃圾回收机制对该变量值进行回收</p>
<p>回收机制种类： 一、引用计数  二、标记-清除  三、分代回收   四、缓存机制</p>
<h1 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h1><h2 id="访问"><a href="#访问" class="headerlink" title="访问"></a>访问</h2><h3 id="TCP-服务器"><a href="#TCP-服务器" class="headerlink" title="TCP  服务器"></a>TCP  服务器</h3><p>要导入socket 包</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> socket<br><span class="hljs-comment"># 1、创建一个TCP服务端 套接字 对象 </span><br> tcp_sever = socket.socket(socket.AF_INET,socket.SOCK_STREAM)<br><br><span class="hljs-comment"># 2. 绑定本地的相关信息，如果不绑定，则系统会随机分配一个端口号</span><br>local_addr = (<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">12344</span>) 元组<br>		<span class="hljs-comment"># ip地址和端口号，ip一般不用写，表示本机的任何一个ip）</span><br>tcp_sever.bind(local_addr)<br><br><span class="hljs-comment"># 3、监听连接，使用socket创建的套接字默认的属性是主动的，使用listen接收别人的链接</span><br> tcp_sever.listen(<span class="hljs-number">5</span>)<span class="hljs-comment">#最大连接数5</span><br>    <br><span class="hljs-comment"># 4、等待连接，其返回值为连接过来的客户端套接字对象和IP地址</span><br> client_socket, client_addr = tcp_sever.accept()<br><br><span class="hljs-comment"># 5.1、打印连接过来的客户端信息及其ip地址</span><br> <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;client_socket:&quot;</span>,client_socket)<br> <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;clinet_addr :&quot;</span>,client_addr)<br><br><span class="hljs-comment"># 5.2、等待接收对方发送过来的数据</span><br> recv_data = client_socket.recv(<span class="hljs-number">1024</span>) <span class="hljs-comment"># 最大接收1024个字节</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Recvfrom&quot;</span>,client_addr,<span class="hljs-string">&quot;recv_data:&quot;</span>,recv_data.decode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)) <span class="hljs-comment">#解决汉字问题</span><br><br><span class="hljs-comment"># 5.3、返回数据到客户端，非必须</span><br> send_data = <span class="hljs-string">&quot;I have got the date:&quot;</span> +recv_data.decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br> client_socket.send(send_data.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br><br><span class="hljs-comment"># 6、关闭套接字</span><br> tcp_sever.close()<br></code></pre></td></tr></table></figure>

<h3 id="TCP-客户端"><a href="#TCP-客户端" class="headerlink" title="TCP 客户端"></a>TCP 客户端</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> socket<br><span class="hljs-comment"># 1、创建一个TCP服务端套接字对象,ipv4协议，使用SOCK_STREAM参数，</span><br><span class="hljs-comment"># 不填proto，就会默认自动选择tcp协议</span><br>tcp_client = socket.socket(socket.AF_INET,socket.SOCK_STREAM)<br><br><span class="hljs-comment"># 2. 准备服务端的地址和端口，&#x27;192.168.0.107&#x27; 表示目的ip地址，12341表示目的端口号</span><br> dest_addr = (<span class="hljs-string">&#x27;192.168.0.107&#x27;</span>, <span class="hljs-number">12344</span>) <br>    	<span class="hljs-comment"># 注意这是一个元组，其中ip地址是字符串，端口号是数字</span><br>  <br><span class="hljs-comment"># 3、链接到服务器</span><br> tcp_client.connect(dest_addr)<br>    <br><span class="hljs-comment"># 4.1、发送数据</span><br> tcp_client.send(<span class="hljs-string">&quot;Hello, I am a tcp client.&quot;</span>.encode(<span class="hljs-string">&quot;utf-8&quot;</span>))<br><span class="hljs-comment"># 4.2、等待接收服务端发送过来的数据，最大接收1024个字节</span><br> recvData = tcp_client.recv(<span class="hljs-number">1024</span>)<br><span class="hljs-comment"># 4.2.1、将接收到的数据打印出来</span><br> <span class="hljs-built_in">print</span>(recvData.decode(<span class="hljs-string">&quot;utf-8&quot;</span>))<br> <br><span class="hljs-comment"># 5、关闭套接字</span><br> tcp_client.close()<br></code></pre></td></tr></table></figure>

<h3 id="UDP服务器"><a href="#UDP服务器" class="headerlink" title="UDP服务器"></a>UDP服务器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> socket<br><span class="hljs-comment"># 1、创建一个UDP套接字</span><br>udp_socket = socket.socket(socket.AF_INET,socket.SOCK_DGRAM)<br><br><span class="hljs-comment"># 2. 绑定本地的相关信息，如果不绑定，则系统会随机分配一个端口号</span><br>local_addr = (<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">8080</span>) <br>	<span class="hljs-comment"># ip地址和端口号，ip一般不用写，表示本机的任何一个ip</span><br>udp_socket.bind(local_addr)<br><br><span class="hljs-comment"># 3. 等待接收对方发送的数据</span><br>recv_data,recv_addr = udp_socket.recvfrom(<span class="hljs-number">1024</span>) <br>						<span class="hljs-comment"># 1024表示本次接收的最大字节数</span><br><br><span class="hljs-comment"># 4、打印接收到的数据</span><br><span class="hljs-built_in">print</span>(recv_data.decode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br><br><span class="hljs-comment"># 5. 关闭套接字</span><br>udp_socket.close()<br></code></pre></td></tr></table></figure>

<h3 id="UDP客户端"><a href="#UDP客户端" class="headerlink" title="UDP客户端"></a>UDP客户端</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> socket<br><span class="hljs-comment"># 1、创建一个UDP套接字</span><br>udp_socket = socket.socket(socket.AF_INET,socket.SOCK_DGRAM)<br><br><span class="hljs-comment"># 2. 目标方的地址和端口，&#x27;192.168.0.107&#x27;表示目的ip地址，8080表示目的端口号</span><br>dest_addr = (<span class="hljs-string">&#x27;192.168.0.107&#x27;</span>, <span class="hljs-number">8080</span>) <br>		<span class="hljs-comment"># 注意这是一个元组，其中ip地址是字符串，端口号是数字</span><br><br><span class="hljs-comment"># 3. 发送数据到指定的ip和端口</span><br>udp_socket.sendto(<span class="hljs-string">&quot;Hello,I am a UDPsocket.&quot;</span>.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>), dest_addr)<br><br><span class="hljs-comment"># 4. 关闭套接字</span><br>udp_socket.close()<br></code></pre></td></tr></table></figure>

<img src="https://s2.loli.net/2024/02/24/Oryqa8CjIv3xBZA.png" srcset="/img/loading.gif" lazyload alt="image-20211111182251581" style="zoom:80%;" />



<h2 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h2><h3 id="多进程"><a href="#多进程" class="headerlink" title="多进程"></a>多进程</h3><p>1、os.fork	  (windows 下无效)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pid=os.fork()</span><br><span class="hljs-string"> 1.只用在Unix系统中有效，Windows系统中无效</span><br><span class="hljs-string"> 2.fork函数调用一次，返回两次：在父进程中返回值为子进程</span><br><span class="hljs-string">id，在子进程中返回值为0</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br>pid = os.fork()<br><span class="hljs-keyword">if</span> pid == <span class="hljs-number">0</span>:<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;执行子进程，子进程pid=&#123;pid&#125;,父进程ppid=&#123;ppid&#125;&quot;</span>.<span class="hljs-built_in">format</span>(pid=os.getpid(), ppid=os.getppid()))<br><span class="hljs-keyword">else</span>:<br>	<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;执行父进程，子进程pid=&#123;pid&#125;,父进程ppid=&#123;ppid&#125;&quot;</span>.<span class="hljs-built_in">format</span>(pid=pid, ppid=os.getpid()))<br></code></pre></td></tr></table></figure>



<p>2、使用multiprocessing模块:<br>      创建Process的实例，传入任务执行函数作为参数</p>
<p>生命周期：</p>
<p> 创建主进程&#x3D;&#x3D;》启动子进程 &#x3D;&#x3D;》执行子进程 &#x3D;&#x3D;》退出子进程 &#x3D;&#x3D;》回收子进程</p>
<p>父进程： 创建 &#x3D;&#x3D;》启动 。。。。&#x3D;&#x3D;》回收      ppid<br>子进程： 执行 &#x3D;&#x3D;》退出                                       pid 进程识别码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">Process常用属性与方法：</span><br><span class="hljs-string"> name:进程名</span><br><span class="hljs-string"> pid：进程id</span><br><span class="hljs-string"> run()，自定义子类时覆写</span><br><span class="hljs-string"> start()，开启进程</span><br><span class="hljs-string"> join(timeout=None)，阻塞进程</span><br><span class="hljs-string"> terminate(),终止进程</span><br><span class="hljs-string"> is_alive()，判断进程是否存活</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os,time<br><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">worker</span>(): <span class="hljs-comment"># 子进程1执行空间，每次子进程执行的时候从该函数进入</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程1执行中&gt;&gt;&gt; pid=&#123;0&#125;,ppid=&#123;1&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid(), os.getppid()))<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        time.sleep(<span class="hljs-number">2</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我是子进程1 &quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程1终止&gt;&gt;&gt; pid=&#123;0&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid()))<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">worker2</span>(): <span class="hljs-comment"># 子进程2执行空间，每次子进程执行的时候从该函数进入</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程2执行中&gt;&gt;&gt; pid=&#123;0&#125;,ppid=&#123;1&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid(), os.getppid()))<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        time.sleep(<span class="hljs-number">3</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我是子进程2 &quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程2终止&gt;&gt;&gt; pid=&#123;0&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid()))<br>        <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;主进程执行中&gt;&gt;&gt; pid=&#123;0&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid()))<br>    ps = []<br>    <span class="hljs-comment"># 创建子进程实例</span><br>    p1 = Process(target=worker, name=<span class="hljs-string">&quot;worker1&quot;</span> , args=())<br>    ps.append(p1)<br>    p2 = Process(target=worker2, name=<span class="hljs-string">&quot;worker2&quot;</span>, args=())<br>    ps.append(p2)<br>    <br>    <span class="hljs-comment"># 开启子进程并运行各自的执行空间</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>):<br>        ps[i].start()<br>	<br>    <span class="hljs-comment"># 阻塞等待子进程退出并回收子进程资源</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>):<br>        ps[i].join()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;主进程终止&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>	main()<br><br>主进程 遇到 p1.start 开启两个独立的子进程 独立运行互不影响<br></code></pre></td></tr></table></figure>



<p>3、 使用multiprocessing模块: 派生Process的子类，重写 run方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os,time<br><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyProcess</span>(<span class="hljs-title class_ inherited__">Process</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        Process.__init__(self)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>): <span class="hljs-comment">#子进程1的执行空间</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程1开始&gt;&gt;&gt; pid=&#123;0&#125;,ppid=&#123;1&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid(),os.getppid()))<br>        time.sleep(<span class="hljs-number">2</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程1终止&gt;&gt;&gt; pid=&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid()))<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyProcess2</span>(<span class="hljs-title class_ inherited__">Process</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        Process.__init__(self)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>): <span class="hljs-comment">#子进程2的执行空间</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程2开始&gt;&gt;&gt; pid=&#123;0&#125;,ppid=&#123;1&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid(),os.getppid()))<br>        time.sleep(<span class="hljs-number">2</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程2终止&gt;&gt;&gt; pid=&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid()))<br> <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(): <span class="hljs-comment">#原来的主进程</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;主进程开始&gt;&gt;&gt; pid=&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid()))<br>    p1 = MyProcess()  <span class="hljs-comment"># 创建了一个新的对象，本身就是一个子进程</span><br>    p2 = MyProcess2()<br><br>    p1.start()<br>    p2.start()<br><br>    p1.join()<br>    p2.join()<br>    <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;主进程终止&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>	main()<br><span class="hljs-comment">#进程操作相同时，可以不需要重写类</span><br></code></pre></td></tr></table></figure>



<p>4、 使用进程池Pool</p>
<p>多进程构成一个池，如果需要从中获取，如果没有，则等待释放，节省资源</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os,time<br><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Pool<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">worker</span>(<span class="hljs-params">arg</span>): 任务函数<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程开始执行&gt;&gt;&gt; pid=&#123;&#125;,ppid=&#123;&#125;,编号&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid(),os.getppid(),arg))<br>    time.sleep(<span class="hljs-number">0.5</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;子进程终止&gt;&gt;&gt; pid=&#123;&#125;,ppid=&#123;&#125;,编号&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid(),os.getppid(),arg))<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;主进程开始执行&gt;&gt;&gt; pid=&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(os.getpid()))<br>    	<span class="hljs-comment">#一次行创建多个进程放到池里</span><br>    ps=Pool(<span class="hljs-number">5</span>) <span class="hljs-comment">#1024的上限值</span><br>	<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)<br>    	<span class="hljs-comment">#ps.apply(worker,args=(i,)) </span><br>        			<span class="hljs-comment">#同步执行，有先后次序，依次执行,arg顺序增加</span><br> 		ps.apply_async(worker,args=(i,)) <br>        			<span class="hljs-comment">#异步执行，没有次序，随机启动，退出后资源重启</span><br>        <br>        ps.close()<span class="hljs-comment"># 关闭进程池，停止接受其它进程</span><br>       <br>		ps.join()	<span class="hljs-comment"># 阻塞进程</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br></code></pre></td></tr></table></figure>

<p>双工通信，一个进程收，一个进程发</p>
<h3 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h3><p>线程一般是进程的一个内部资源。<br>多进程 &#x3D;&#x3D;》消耗资源大 &#x3D;&#x3D;》进程间通信 &#x3D;&#x3D;&#x3D;》同步协调<br>多线程 &#x3D;&#x3D;》互斥锁，信号量，共享内存</p>
<p>Python中使用线程有两种方式：函数 或者 用类来包装线程对象</p>
<p>函数式：</p>
<p>调用 _thread 模块中的start_new_thread()函数来产生 新线程<br>语法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">_thread.start_new_thread ( function, args[, kwargs] )<span class="hljs-comment">#元组类型</span><br></code></pre></td></tr></table></figure>

<p>eg.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> _thread<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-comment"># 为线程定义一个函数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_time</span>(<span class="hljs-params"> threadName, delay</span>):<span class="hljs-comment">#线程执行空间</span><br>    count = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> count &lt; <span class="hljs-number">5</span>:<br>        time.sleep(delay)<br>        count += <span class="hljs-number">1</span><br>        <span class="hljs-built_in">print</span> (<span class="hljs-string">&quot;%s: %s&quot;</span>%(threadName, time.ctime(time.time())))<br>       <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mytest_thread</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello world&quot;</span>)<br><br><span class="hljs-comment">#创建并启动线程    </span><br>_thread.start_new_thread( print_time, (<span class="hljs-string">&quot;Thread-1&quot;</span>, <span class="hljs-number">2</span>, ) )<br>_thread.start_new_thread( print_time, (<span class="hljs-string">&quot;Thread-2&quot;</span>, <span class="hljs-number">4</span>, ) )<br>_thread.start_new_thread(mytest_thread,()) <br>									<span class="hljs-comment">#参数2不能为空，必须是元组类型</span><br><br><span class="hljs-keyword">while</span> <span class="hljs-number">1</span>: <span class="hljs-comment">#主进程不能退出，子线程运行依赖。</span><br>	<span class="hljs-keyword">pass</span> <span class="hljs-comment">#空指令，但必须执行 一次，防止机器高速空转</span><br>主进程不能退出，线程属于进程，如果进程退出线程也会随进程一起退出<br></code></pre></td></tr></table></figure>

<p> _thread 提供了低级别的、原始的线程以及一个简单的锁，<br>    它相比于 threading 模块的功能还是比较有限的。</p>
<h4 id="线程模块-threading"><a href="#线程模块-threading" class="headerlink" title="线程模块 threading"></a>线程模块 threading</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">threading 模块除了包含 _thread 模块中的所有方法外，还提供的其他方法：<br>• threading.currentThread(): 返回当前的线程变量。<br>• threading.<span class="hljs-built_in">enumerate</span>(): 返回一个包含正在运行的线程的<span class="hljs-built_in">list</span>。<br><br>正在运行指线程启动后、结束前，不包括启动前和终止后的线程。<br>• threading.activeCount(): 返回正在运行的线程数量，与<span class="hljs-built_in">len</span>(threading.<span class="hljs-built_in">enumerate</span>())有相同的结果。<br><br>除了使用方法外，线程模块同样提供了Thread类来处理线程，<br>Thread类提供了以下方法:<br>◇ run(): 用以表示线程活动的方法，由子线程执行。<br>◇ start():启动线程活动，由主进程执行。<br><br>◇ join([time]): 等待子线程中止。这阻塞调用线程直至线程的join() 方法被调用中止-正常退出或者抛出未处理的异常-或者是可选的超时发生。<br>◇ isAlive(): 返回线程是否活动的。<br>◇ getName(): 返回线程名。<br>◇ setName(): 设置线程名<br></code></pre></td></tr></table></figure>

<p>可以通过直接从 threading.Thread 继承创建一个新的子类，并实例化后调用 start() 方法启动新线程， 即它调用线程的 run() 方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> threading<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">myThread</span>(threading.Thread):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, threadID, name, counter</span>):<br>        threading.Thread.__init__(self)<br>        self.threadID = threadID<br>        self.name = name<br>        self.counter = counter<br>     <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>): <span class="hljs-comment"># 子线程的执行空间位置</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;开始线程：&quot;</span> + self.name)<br>        print_time(self.name, self.counter, <span class="hljs-number">5</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;退出线程：&quot;</span> + self.name)<br>        <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_time</span>(<span class="hljs-params">threadName, delay, counter</span>):<br>    <span class="hljs-comment"># 子线程的执行函数，内容可以自定义</span><br>    <span class="hljs-keyword">while</span> counter:<br>        time.sleep(delay)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%s: %s&quot;</span> % (threadName,time.ctime(time.time())))<br> 		counter -= <span class="hljs-number">1</span><br> 	exit() <span class="hljs-comment"># 建议退出位置</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;主进程开始&quot;</span>)<br><span class="hljs-comment"># 创建新线程</span><br>thread1 = myThread(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;Thread-1&quot;</span>, <span class="hljs-number">1</span>)<br><span class="hljs-comment"># 1 是线程id “Thread-1” 是线程名称 1 线程内部参数，此处用于时</span><br>thread2 = myThread(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;Thread-2&quot;</span>, <span class="hljs-number">2</span>)<br><br><span class="hljs-comment"># 开启新线程</span><br>thread1.start() <span class="hljs-comment"># 启动执行线程</span><br>thread2.start()<br><span class="hljs-comment"># 回收资源</span><br>thread1.join()<span class="hljs-comment">#阻塞等待tdread1结束		</span><br>thread2.join()<span class="hljs-comment">#阻塞等待tdread2结束</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;退出主线程&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>使用以上两个线程创建方式之一，完成多个不同线程的任意输出<br>(可以通过线程名进行判断区分，if-else)</p>
<p>扩展内容： 线程同步 线程优先级队列</p>
<h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><p>SQL(Structured Query Language 结构化查询语句)是一种特殊目的的编程语言，是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统</p>
<p>SQL基于关系代数和元组关系演算，包括一个数据定义语言和数据操控语言。<br>SQL的范围包括数据插入、查询、更新、和删除，数据库模式创建修改已经数据访问控制</p>
<h2 id="SQLite3"><a href="#SQLite3" class="headerlink" title="SQLite3"></a>SQLite3</h2><p>SQLite，是一款轻型的关系型数据库，是遵守ACID的关系型数据库管理系统，<br>它的设计目标是”嵌入式”的，而且已经在很多嵌入式产品中使用了它，<br>它占用资源非常的低，它能够支持Windows&#x2F;Linux&#x2F;Unix等等主流的操作系统， 同时能够跟很多程序语言相结合,并且支持标准的SQL语句</p>
<p>文件型数据库</p>
<p>不支持网络操作，数据容量只有4T</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">ACID:</span>关系型数据库的特性<br>原子性（atomicity，或称不可分割性）、<br>一致性（consistency）、<br>隔离性（isolation，又称独立性）、<br>持久性（durability）。<br></code></pre></td></tr></table></figure>

<p>SQL 结构化查询语言 &#x3D;&#x3D;》数据库脚本语言</p>
<p>下载地址：<a target="_blank" rel="noopener" href="https://www.sqlite.org/download.html">https://www.sqlite.org/download.html</a></p>
<p>(压缩打开，添加环境变量后直接使用)</p>
<h3 id="存储类型"><a href="#存储类型" class="headerlink" title="存储类型"></a>存储类型</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">NULL</span> <span class="hljs-keyword">NULL</span>值(不是空值)<br><span class="hljs-type">INTEGER</span> 带符号的整数<br><span class="hljs-type">REAL</span> 浮点值(<span class="hljs-number">8</span>字节)<br>TEXT 文本字符串(UTF<span class="hljs-number">-8</span>,UTF<span class="hljs-number">-16</span>BE,UTF<span class="hljs-number">-16</span>LE)<br><span class="hljs-type">BLOB</span> <span class="hljs-type">BLOB</span>数据类型<br>(Sqlite 没有单独的<span class="hljs-type">Boolean</span>类型,在数据库中存储为整数<span class="hljs-number">0</span>(<span class="hljs-literal">false</span>),<span class="hljs-number">1</span>(<span class="hljs-literal">true</span>))<br>(Sqlite 没有单独的<span class="hljs-type">Date</span>类,存储时会变成TEXT,<span class="hljs-type">INTEGER</span>,<span class="hljs-type">REAL</span>类型)<br></code></pre></td></tr></table></figure>



<h3 id="DOS命令"><a href="#DOS命令" class="headerlink" title="DOS命令"></a>DOS命令</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql">D:\ dir 查看目录下文件信息<br>D:\ cls 清理屏幕显示<br>D:\ cd  xxx 进入到目标代码目录<br><br>D:\ sqlite3 回车 命令行会自动进入该目录下<br>D:\ sqlite3 test.db 新建一个数据库<br>sqlite<span class="hljs-operator">&gt;</span> 表示正常进入到dbms系统中 （.q退出）<br></code></pre></td></tr></table></figure>

<p>先有数据库 &#x3D;&#x3D;》创建数据表 &#x3D;&#x3D;》增加数据 &#x3D;&#x3D;》维护（增加，删 除，修改，查询）</p>
<h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><p>1、创建数据库文件并登录；<br> Sqlite3 test.db &#x3D;&#x3D;&#x3D;》.db 后缀的是数据库文件，其中允许创建多个表格。<br> 手工创建 xxx.db 也可以，只要保证文件后缀是 .db 即可。</p>
<h4 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h4><p>2、在数据库中新建表； SQL 语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sqlite">create table test(id int , name text, pass text);<br></code></pre></td></tr></table></figure>

<p>注意：表名（test） 可以自由定义，表的字段名称也可以自由定义 但是类型要正确，必须为存储类型中的一种<br>            如果出现 syntax error 表示SQL 语句有语法错误</p>
<p>.tables 查看创建的表是否成功，不是标准sql语句，是sqlite3内置命令</p>
<p>创建表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sqlite">create table test (id integer primary key autoincrement notnull,name text);<br></code></pre></td></tr></table></figure>

<p>id integer primary key autoincrement not null (限制id属性，每行自动增长)<br> 整形   		主键 			自动增长 				非空</p>
<h4 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h4><p>3、向数据库中插入一条记录：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test (name) <span class="hljs-keyword">values</span> (&quot;bilibili&quot;); #指定值插入<br>	inser <span class="hljs-keyword">into</span> 是插入关键字 <br>	test 是表名称 <br>	name是表中的列名称 <br>	<span class="hljs-keyword">values</span>是关键字<br>	“bilibili”是插入的列对应的数据值。<br>	<span class="hljs-keyword">SQL</span> 语句默认以 “ ; ” 结尾标识。<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test(id,name,pass) <span class="hljs-keyword">values</span> (<span class="hljs-number">1</span>,&quot;zhang&quot;,&quot;123345&quot;); <br>	#全列匹配插入<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test <span class="hljs-keyword">values</span> (<span class="hljs-number">2</span>,&quot;asd&quot;,“<span class="hljs-number">2345</span>”); <br>	#全列默认匹配插入，必须值一一匹配<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test (id,name) <span class="hljs-keyword">values</span> (<span class="hljs-number">3</span>,&quot;afasdf&quot;); <br>	#指定值插入<br></code></pre></td></tr></table></figure>

<h4 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h4><p>4、查询所有表中数据：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test; #查询所有表中记录并打印输出<br>	<span class="hljs-keyword">select</span> 是查询关键字<br>	<span class="hljs-operator">*</span> 是通配符，表示所有列都输出<br>	<span class="hljs-keyword">from</span> 是关键字<br>	test 是表名字<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"># <span class="hljs-keyword">where</span> 辅助查询关键字，限定范围<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; <br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> pass <span class="hljs-operator">=</span> <span class="hljs-number">123</span> <span class="hljs-keyword">and</span> name <span class="hljs-operator">=</span>“张三”; #与<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> id <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;	#或<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> id <span class="hljs-operator">&gt;</span> <span class="hljs-number">1</span>;<br><br>#指定列 <span class="hljs-operator">*</span>查所有列<br><span class="hljs-keyword">select</span> id,name <span class="hljs-keyword">from</span> test; 	#指定 列 的时候可以间隔列名<br><span class="hljs-keyword">select</span> id,name <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span> ; #列名和限定词一起组合查询<br></code></pre></td></tr></table></figure>

<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">select</span> <span class="hljs-type">name</span> <span class="hljs-keyword">from</span> doctor <span class="hljs-keyword">where</span> <span class="hljs-type">name</span> = &quot;xxx&quot;;<br><span class="hljs-keyword">select</span> id <span class="hljs-keyword">from</span> doctor <span class="hljs-keyword">where</span> id &gt;= <span class="hljs-number">60</span>;<br></code></pre></td></tr></table></figure>

<h4 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h4><p>5、修改指定表中数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> test <span class="hljs-keyword">set</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;xxx&#x27;</span> ; #会修改表中所有name记录(一列） ，慎用<br>	<span class="hljs-keyword">update</span> 是修改关键字<br>	test 是修改的表名字<br>	<span class="hljs-keyword">set</span> 是设置关键字<br>	name 是列名字<br>	<span class="hljs-operator">=</span> ”xxx“ 是修改后的值<br><br>#整常情况下，需要<span class="hljs-keyword">where</span>限定成某一行 <br><span class="hljs-keyword">update</span> test <span class="hljs-keyword">set</span> name <span class="hljs-operator">=</span> &quot;xxx&quot; <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<br><span class="hljs-keyword">update</span> test <span class="hljs-keyword">set</span> name <span class="hljs-operator">=</span> &quot;xxx&quot;, pass <span class="hljs-operator">=</span> &quot;yyy&quot; <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;<br><span class="hljs-keyword">update</span> test <span class="hljs-keyword">set</span> name <span class="hljs-operator">=</span> &quot;xxx&quot; <span class="hljs-keyword">where</span> id <span class="hljs-operator">&gt;</span><span class="hljs-number">1</span> <span class="hljs-keyword">and</span> pass <span class="hljs-operator">=</span> <span class="hljs-number">2345</span>;<br></code></pre></td></tr></table></figure>

<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><p>6、删除表中指定数据：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> 是删除关键字<br>	test 是要删除信息的表名字<br>	<span class="hljs-keyword">where</span> 限定词<br>	id<span class="hljs-operator">=</span><span class="hljs-number">1</span> 限定条件<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> id <span class="hljs-operator">&gt;</span><span class="hljs-number">1</span> <span class="hljs-keyword">and</span> pass <span class="hljs-operator">=</span> <span class="hljs-number">2345</span>;<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">or</span> id <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br><br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> test ; #删除表test中所有数据，直接删除无法恢复。慎用<br></code></pre></td></tr></table></figure>

<p>7、退出数据库<br>      以下不属于sql语句，属于数据库sqltie3自己的命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sqlite">.exit .q #退出<br>	.tables //显示当前数据库的表格<br> 	.schema tablename; //显示表格结构<br> 	.help #显示DBMS中所有相关的内部指令<br></code></pre></td></tr></table></figure>

<p>​	可视化操作 	<a target="_blank" rel="noopener" href="http://sqliteadmin.orbmu2k.de/">http://sqliteadmin.orbmu2k.de/</a>      sqlite administor</p>
<h3 id="其他操作"><a href="#其他操作" class="headerlink" title="其他操作"></a>其他操作</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>、 删除表<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> test1; <br><br><span class="hljs-number">2</span>、 排序 默认是 <span class="hljs-keyword">ASC</span>:升序,    <span class="hljs-keyword">DESC</span>:降序 不区分大小写<br>	id <span class="hljs-keyword">ASC</span> ; id <span class="hljs-keyword">DESC</span><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> price <span class="hljs-operator">&lt;</span> <span class="hljs-number">103</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> price <span class="hljs-keyword">desc</span> limit <span class="hljs-number">5</span> ;<br>	# <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> xxx 按照xxx所在的列排序<br>	# limit num 只需要查询指定的前num个数据<br><br><span class="hljs-number">3</span>、去重<br><span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> name <span class="hljs-keyword">from</span> test;<br><br><span class="hljs-number">4</span>、模糊查询<br><span class="hljs-keyword">WHERE</span> SALARY <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;200%&#x27;</span>  查找以 <span class="hljs-string">&#x27;200 开头&#x27;</span>的任意值<br><span class="hljs-keyword">WHERE</span> SALARY <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%200%&#x27;</span> 查找任意位置<span class="hljs-string">&#x27;包含 200 &#x27;</span>的任意值<br><span class="hljs-keyword">WHERE</span> SALARY <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;_00%&#x27;</span>  查找<span class="hljs-string">&#x27;第二位和第三位为 00 &#x27;</span>的任意值<br><span class="hljs-keyword">WHERE</span> SALARY <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;2_%_%&#x27;</span> 查找以 <span class="hljs-number">2</span> 开头，且长度至少为 <span class="hljs-number">3</span>个字符的任意值<br>	#其中 _ 是一个占位符， <span class="hljs-operator">%</span>是任意长度占位 <br></code></pre></td></tr></table></figure>

<h3 id="where-子句"><a href="#where-子句" class="headerlink" title="where 子句"></a>where 子句</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">5</span>、<span class="hljs-keyword">where</span> 子句：<br>	<span class="hljs-keyword">and</span> :在<span class="hljs-keyword">where</span>中可以连接多个条件<br>sqlite<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> age <span class="hljs-operator">&gt;</span> <span class="hljs-number">13</span> <span class="hljs-keyword">and</span> price <span class="hljs-operator">&gt;=</span> <span class="hljs-number">105</span>;<br><br>	<span class="hljs-keyword">or</span> :或<br>sqlite<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> age <span class="hljs-operator">&gt;</span> <span class="hljs-number">13</span> <span class="hljs-keyword">or</span> price <span class="hljs-operator">&lt;</span> <span class="hljs-number">200</span>;<br><br>	<span class="hljs-keyword">not</span> <span class="hljs-operator">!=</span> :否定,一般和<span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> <span class="hljs-operator">/</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">between</span> 等合用<br>sqlite<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> name <span class="hljs-operator">!=</span> &quot;aaa&quot;<br><br>	<span class="hljs-keyword">between</span> :在两个值之间进行搜索<br>sqlite<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> age <span class="hljs-keyword">between</span> <span class="hljs-number">12</span> <span class="hljs-keyword">and</span> <span class="hljs-number">17</span>; <br><br>	<span class="hljs-keyword">in</span> :返回值等于匹配值的数据<br>sqlite<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> age <span class="hljs-keyword">in</span> (<span class="hljs-number">12</span>,<span class="hljs-number">15</span>);<br><br>	<span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> :和<span class="hljs-keyword">in</span>相反<br>sqlite<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> age <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> (<span class="hljs-number">12</span>,<span class="hljs-number">15</span>);<br><br>sqlite<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;Y%&#x27;</span>;<br> <br>	<span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span> :用于把某个值和<span class="hljs-keyword">NULL</span>进行比对<br>sqlite<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test <span class="hljs-keyword">where</span> name <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>;<br> <br><span class="hljs-keyword">is</span> :类似于 <span class="hljs-operator">=</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> :类似于 <span class="hljs-operator">!=</span><br><br></code></pre></td></tr></table></figure>

<p>6、导入导出</p>
<p>导出</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql">导出命令：<br>sqlite3 data.db <br><span class="hljs-operator">&gt;</span>.output dd.sql 导出的数据库脚本名称为 dd.sql <br><span class="hljs-operator">&gt;</span>.dump 导出所有数据<br><span class="hljs-operator">&gt;</span>.q 退出数据库<br><br>另一种：<br>sqltie3 xxx.db .dump <span class="hljs-operator">&gt;</span> yyy.sql 在数据库尚未登录时候操作<br> <span class="hljs-operator">&gt;</span> 符号在这里表示输出到某个文件<br> #doc的输出重定向<br></code></pre></td></tr></table></figure>

<p>导入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql">导入命令: <br>sqlite3 新数据库.db <br><span class="hljs-operator">&gt;</span>.read dd.sql <br><span class="hljs-operator">&gt;</span>.tables 查看导入效果<br><br>另一种：<br>sqlite3 xxx.db <span class="hljs-operator">&lt;</span> xxx.sql<br>	<span class="hljs-operator">&lt;</span> 符号在这里表示从某个脚本导入文件内容<br></code></pre></td></tr></table></figure>



<h3 id="Python-与-sqlite3的接口"><a href="#Python-与-sqlite3的接口" class="headerlink" title="Python 与 sqlite3的接口"></a>Python 与 sqlite3的接口</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">1</span>、首先需要导入sqlite3模块<br>	<span class="hljs-keyword">import</span> sqlite3<br><span class="hljs-number">2</span>、连接数据库（如果数据库不存在则创建新的数据库）<br>	con = sqlite3.connnect(<span class="hljs-string">&quot;test.db&quot;</span>)	<span class="hljs-comment">#创建对象</span><br><span class="hljs-number">3</span>、创建游标  <span class="hljs-comment">#临时的保存 所有操作都会储存在游标，所有最后需要提交</span><br>	cur = con.cursor()	<br><br><span class="hljs-number">4</span>、常规的 增删改查 等SQL操作<br>sql = <span class="hljs-string">&quot;CREATE TABLE IF NOT EXISTS test(id INTEGER PRIMARY KEY,name TEXT,age INTEGER)&quot;</span> <span class="hljs-comment">#组织SQL命令串</span><br><span class="hljs-comment">#str = &quot;insert into user values (7,&#x27;wo&#x27;,&#x27;8888&#x27;);&quot;</span><br><span class="hljs-comment">#str = &quot;delete from user where id = 7;&quot;</span><br><span class="hljs-comment">#str = &quot;update user set pass =&#x27;123456&#x27; where id = 6;&quot;</span><br>cur.execute(sql) <span class="hljs-comment">#执行SQL命令串</span><br><br>查询：<br>cur.execute(<span class="hljs-string">&#x27;SELECT * FROM user&#x27;</span>)<br><span class="hljs-comment"># print(cur.fetchone()) #取游标第一行数据形成元组</span><br><span class="hljs-comment"># res = cur.fetchmany(3) #取多行指定数据形成列表</span><br><span class="hljs-comment"># print(res) #结果是列表中存储的三行元组信息</span><br><span class="hljs-comment"># res = cur.fetchall() #取表中所有数据记录</span><br><span class="hljs-comment"># for line in res: #遍历所有的查询记录</span><br><span class="hljs-comment"># print(line) #以元组形式输出所有select的结果数据</span><br><br><span class="hljs-number">5</span>、事务的提交和回滚<br>con.commit() <span class="hljs-comment">#提交 正式生效到数据库文件</span><br>con.rollback() <span class="hljs-comment">#回滚 撤销刚才的内存操作</span><br><br><span class="hljs-number">6</span>、断开会话连接，释放资源 <br>cur.close() <span class="hljs-comment"># 关闭游标</span><br>con.close() <span class="hljs-comment"># 断开数据库连接</span><br></code></pre></td></tr></table></figure>

<p> 用户自定义输入</p>
<p>添加表中数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;请输入要插入数据库的id,name,pass的数据&quot;</span>)<br><span class="hljs-built_in">id</span>= <span class="hljs-built_in">input</span>()<br>name=<span class="hljs-built_in">input</span>()<br>pasd=<span class="hljs-built_in">input</span>()<br><span class="hljs-comment">#1 字符串的拼装</span><br><span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;insert into user values (&quot;</span>+<span class="hljs-built_in">str</span>(<span class="hljs-built_in">id</span>)+<span class="hljs-string">&quot;,&#x27;&quot;</span>+name+<span class="hljs-string">&quot;&#x27;,&#x27;&quot;</span>+pasd+<span class="hljs-string">&quot;&#x27;);&quot;</span><br><span class="hljs-comment">#2 用元组占位拼装</span><br>cur.execute(<span class="hljs-string">&quot;insert into user values (%d,&#x27;%s&#x27;,&#x27;%s&#x27;);&quot;</span>%(<span class="hljs-built_in">id</span>,name,pasd))<br><span class="hljs-comment">#3 用问号占位拼装（和&#123;&#125;一样）</span><br>cur.execute(<span class="hljs-string">&quot;insert into user values (?,?,?);&quot;</span>,(<span class="hljs-built_in">id</span>,name,pasd))<br></code></pre></td></tr></table></figure>

<p>eg.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sqlite3<br><br>con = sqlite3.connect(<span class="hljs-string">&quot;text.db&quot;</span>)<br>cur = con.cursor()<br> <span class="hljs-comment">#sql = &quot;insert into user values (7,&#x27;wo&#x27;,&#x27;8888&#x27;);&quot;</span><br> <span class="hljs-comment">#sql = &quot;delete from user where id = 7;&quot;</span><br> <span class="hljs-comment">#sql = &quot;update user set pass =&#x27;123456&#x27; where id = 6;&quot;</span><br><span class="hljs-built_in">id</span> = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入id&quot;</span>)<br>name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入name&quot;</span>)<br>passd = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入passwd&quot;</span>)<br><br>sql = <span class="hljs-string">&quot;insert into use values (&#123;&#125;,&#x27;&#123;&#125;&#x27;,&#x27;&#123;&#125;&#x27;);&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-built_in">id</span>,name,passd)<br><br>cur.execute(sql)<br>cun.commit()<br>con.close()<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">注意：关于数据库句柄和游标还有如下属性说明<br>sqlite3的方法说明：<br><br>connect方法返回con对象，即是数据库链接对象，它提供了以下方法：<br>.cursor() 方法来创建一个游标对象<br>.commit() 方法来处理事务提交<br>.rollback() 方法来处理事务回滚<br>.close() 方法来关闭一个数据库连接<br><br>对数据库的查询需要使用到游标对象，首先通过cursor()<span class="hljs-string">&#x27;建一个游标对象：</span><br><span class="hljs-string"></span><br><span class="hljs-string">游标对象有以下方法支持数据库操作：</span><br><span class="hljs-string">.execute()用来执行sql语句</span><br><span class="hljs-string">.executemany()用来执行多条sql语句</span><br><span class="hljs-string">.close() 用来关闭游标</span><br><span class="hljs-string">.fetchone()用来从结果中取一条记录，并将游标指向下一条记录</span><br><span class="hljs-string">.fetchmany()用来从结果中取多条记录。</span><br><span class="hljs-string">.fetchall()用来从结果中取出所以记录</span><br><span class="hljs-string">.scroll()用于游标滚动</span><br></code></pre></td></tr></table></figure>

<p><a href="file:///D:/笔记/python/python/python--数据库--sqlite3.pdf">python–数据库–sqlite3.pdf</a>  例子 ？</p>
<h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><p>安装：(<a target="_blank" rel="noopener" href="https://www.mysql.com/cn/downloads/)%E5%AE%98%E7%BD%91">https://www.mysql.com/cn/downloads/)官网</a></p>
<p>可视化工具：Navicat for MySQL</p>
<h3 id="基本维护操作"><a href="#基本维护操作" class="headerlink" title="基本维护操作"></a>基本维护操作</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs mysql">1.停止/启动mysql服务<br>C:\Users\chen&gt;net stop mysql	#停<br>The MySQL service is stopping....<br>The MySQL service was stopped successfully.<br><br>C:\Users\chen&gt;net start mysql	#起<br>The MySQL service is starting..<br>The MySQL service was started successfully.<br><br>2.进入mysql<br>C:\Users\chen&gt;mysql -u root -p<br>Enter password: ******<br></code></pre></td></tr></table></figure>

<p>pymysql 应用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pymysql<br><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer<br><br><br>host = <span class="hljs-string">&#x27;localhost&#x27;</span><br>port = <span class="hljs-number">3306</span><br>db = <span class="hljs-string">&#x27;mysql_test&#x27;</span><br>user = <span class="hljs-string">&#x27;mysql_test&#x27;</span><br>password = <span class="hljs-string">&#x27;mysql_test&#x27;</span><br><br><span class="hljs-comment"># ---- 用pymysql 操作数据库</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_connection</span>():	<span class="hljs-comment">#连接到mysql</span><br>	conn = pymysql.connect(host=host, port=port, db=db, user=user,password=password)<br>	<span class="hljs-keyword">return</span> conn<br><br><span class="hljs-comment"># ---- 使用 with 的方式来优化代码</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UsingMysql</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, commit=<span class="hljs-literal">True</span>, log_time=<span class="hljs-literal">True</span>, log_label=<span class="hljs-string">&#x27;总用时&#x27;</span></span>):<br> 		<span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">	  :param commit: 是否在最后提交事务(设置为False的时候方便单元测试)</span><br><span class="hljs-string"> 	  :param log_time: 是否打印程序运行总时间</span><br><span class="hljs-string"> 	  :param log_label: 自定义log的文字</span><br><span class="hljs-string">		&quot;&quot;&quot;</span><br>        <br>        self._log_time = log_time	<span class="hljs-comment">#日志时间</span><br> 		self._commit = commit		<span class="hljs-comment">#日志标签</span><br>		self._log_label = log_label	<span class="hljs-comment">#是否打印日志</span><br>        <br>	<span class="hljs-keyword">def</span> <span class="hljs-title function_">__enter__</span>(<span class="hljs-params">self</span>):<br>		<span class="hljs-comment"># 如果需要记录时间</span><br>		<span class="hljs-keyword">if</span> self._log_time <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>:<br>			self._start = default_timer()<br>        <br>		<span class="hljs-comment"># 在进入的时候自动获取连接和cursor</span><br>		conn = get_connection()<br>        	<span class="hljs-comment">#创建游标</span><br>		cursor = conn.cursor(pymysql.cursors.DictCursor)<br>		conn.autocommit = <span class="hljs-literal">False</span>	<span class="hljs-comment">#提交到数据库操作，默认关闭</span><br>        <br>        self._conn = conn<br>		self._cursor = cursor<br>		<span class="hljs-keyword">return</span> self<br>    <br>     <span class="hljs-keyword">def</span> <span class="hljs-title function_">__exit__</span>(<span class="hljs-params">self, *exc_info</span>):<br>        <span class="hljs-comment"># 提交事务</span><br>        <span class="hljs-keyword">if</span> self._commit:<br>        	self._conn.commit()<br>        <span class="hljs-comment"># 在退出的时候自动关闭连接和cursor</span><br>        self._cursor.close()<br>        self._conn.close()<br>        <br>        <span class="hljs-keyword">if</span> self._log_time <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>:<br> 			diff = default_timer() - self._start<br> 			<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-- %s: %.6f 秒&#x27;</span> % (self._log_label, diff))<br>            <br><span class="hljs-meta">        @property</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">cursor</span>(<span class="hljs-params">self</span>):<br>            <span class="hljs-keyword">return</span> self._cursor<br> <span class="hljs-comment">#封装结束</span><br>==========================================================        <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">check_it</span>():<br>    <span class="hljs-keyword">with</span> UsingMysql(log_time=<span class="hljs-literal">True</span>) <span class="hljs-keyword">as</span> um:<br>        um.cursor.execute(<span class="hljs-string">&quot;select count(id) as total from Product&quot;</span>)<br>        data = um.cursor.fetchone()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-- 当前数量: %d &quot;</span> % data[<span class="hljs-string">&#x27;total&#x27;</span>])<br><br>        <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>	check_it()        <br></code></pre></td></tr></table></figure>




                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Python/" class="category-chain-item">Python</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/python/" class="print-no-link">#python</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Python</div>
      <div>http://example.com/2020/09/11/Python/Python/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Crx</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2020年9月11日</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>更新于</div>
          <div>2024年2月24日</div>
        </div>
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2020/12/18/Python/%E7%88%AC%E8%99%AB/" title="Python爬虫">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Python爬虫</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
    <!-- 备案信息 ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      陕ICP备2024027990号
    </a>
  </span>
  
</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  var relativeDate = function() {
    var updatedTime = document.getElementById('updated-time');
    if (updatedTime) {
      var text = updatedTime.textContent;
      var reg = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:Z|[+-]\d{2}:\d{2})/;
      var matchs = text.match(reg);
      if (matchs) {
        var relativeTime = moment(matchs[0]).fromNow();
        updatedTime.textContent = text.replace(reg, relativeTime);
      }
      updatedTime.style.display = '';
    }
  };
  Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/moment.min.js', function() {
    if (!'zh-cn'.startsWith('en')) {
      Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/locale/zh-cn.min.js', function() {
        relativeDate();
      });
    } else {
      relativeDate();
    }
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
